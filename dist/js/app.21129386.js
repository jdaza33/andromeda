(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={1:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([25,0]),a()})({"/8Y/":function(t,e,a){"use strict";var s=a("uBRj"),i=a.n(s);i.a},"1HfA":function(t,e,a){},20:function(t,e){},21:function(t,e){},22:function(t,e){},23:function(t,e){},25:function(t,e,a){t.exports=a("Vtdi")},"2rxB":function(t,e,a){},"3LUJ":function(t,e,a){"use strict";var s=a("sdJp"),i=a.n(s);i.a},"3zVC":function(t,e,a){},"4YN5":function(t,e,a){},"6Vmm":function(t,e,a){},"7Mk1":function(t,e,a){},As3I:function(t,e,a){"use strict";var s=a("6Vmm"),i=a.n(s);i.a},GZgS:function(t,e,a){},IL5P:function(t,e,a){},"IMR+":function(t,e,a){"use strict";var s=a("2rxB"),i=a.n(s);i.a},Jd8s:function(t,e,a){},NykB:function(t,e,a){"use strict";var s=a("1HfA"),i=a.n(s);i.a},QBWr:function(t,e,a){"use strict";var s=a("Y46a"),i=a.n(s);i.a},U9Me:function(t,e,a){},V40A:function(t,e,a){},Vtdi:function(t,e,a){"use strict";a.r(e);a("VRzm");var s=a("Kw5r"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},n=[],r={},o=r,l=(a("nNx0"),a("KHd+")),c=Object(l["a"])(o,i,n,!1,null,null,null),u=c.exports,d=(a("f3/d"),a("jE9Z")),p=a("vDqi"),f=a.n(p),h=a("Mj6V"),b=a.n(h);b.a.configure({showSpinner:!1}),b.a.configure({minimum:.3});var m="https://server-andromeda.herokuapp.com",g=f.a.create({baseURL:m,timeout:3e4});g.interceptors.request.use(function(t){return b.a.start(),t}),g.interceptors.response.use(function(t){return b.a.done(),t});var v=g,C=(a("KKXr"),!0),_={text:{title:{login:"Iniciar Sesión",register:"Registro de Usuario",restoreKey:"Restaurar Clave",report:"Gestión de Reportes",support:"Gestión de Soportes",newsupport:"Nueva solicitud de soporte",images:"Imagenes",details:"Detalles",date:"Fecha",status:"Estado",users:"Gestión de Usuarios",newuser:"Nuevo Usuario",assignSupport:"Asignar Soporte",recordSupport:"Historial de Soporte"},button:{enter:"Entrar",restore:"Restaurar",save:"Guardar",new:"Nuevo",delete:"Eliminar",cancel:"Cancelar",close:"Cerrar",send:"Enviar",deselect:"Deseleccionar",deny:"Rechazar",approve:"Aprobar",lock:"Bloquear",unlock:"Desbloquear"},input:{username:"Usuario",password:"Contraseña",name:"Nombre",nit:"Numero de Identificación",email:"Correo Electronico",issue:"Asunto",message:"Mensaje",description:"Descripción",upload:"¡Suba sus imagenes aquí!",phone:"Telefono",toAssign:"Asignar a"}},success:{S001:"El Usuario ha sido creado con exito",S002:"Solicitud creada con exito",S003:"Datos guardados"},warn:{},error:{E001:"El Numero de Identificación que introdujo, ya está registrado",E002:"El Correo Electronico que introdujo, ya está registrado",E003:"El Usuario que introdujo, ya está registrado",E004:"El Usuario que introdujo no existe, verique por favor",E005:"¡Usuario bloqueado!",E006:"¡Contraseña incorrecta!",E007:"Por favor llene todos los campos",E008:"Error, intente de nuevo",E009:"Error al subir las imagenes, intente de nuevo"}},w={text:{title:{login:"Login",register:"User Register",restoreKey:"Restore Key"},button:{enter:"Enter",restore:"Restore",save:"Save"},input:{username:"Username",password:"Password",name:"Name",nit:"NIT",email:"Email"}}},k=C?_:w,y=function(t,e){var a=e.split("")[0],s="S"==a?{a:"is-success",b:"success"}:"W"==a?{a:"is-warning",b:"warn"}:"I"==a?{a:"is-info",b:"info"}:{a:"is-danger",b:"error"},i=k[s.b][e];t.$toast.open({duration:3e3,message:i,position:"is-top",type:s.a,queue:!1})},x=a("FLf1"),S=a.n(x),$={user:{authenticated:!1},authenticate:function(t,e,a){var s=this;v.post("/auth/login",e).then(function(e){if(e.data.res){var i=e.data.token;t.$cookie.set("token",i,{expires:3},"1D"),s.user.authenticated=!0;var n=S.a.verify(i,"blackencio",function(t,e){return e.user._id});t.$cookie.set("userId",n),a&&Ke.push({name:a})}else y(t,e.data.err)}).catch(function(t){alert(t)})},checkAuthentication:function(){var t=document.cookie;this.user.authenticated=!!t},getAuthenticationHeader:function(t){return"Bearer ".concat(t.$cookie.get("token"))}},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(e){t.go("login")}}},[t._v("Login")])]),a("router-view")],1)},D=[],R={methods:{go:function(t){this.$router.push({name:t})}}},P=R,E=Object(l["a"])(P,A,D,!1,null,null,null),M=E.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.show,expression:"show==1"}],staticClass:"column is-one-third master"},[a("section",{staticClass:"section"},[a("p",{staticClass:"title is-3 has-text-centered"},[t._v("¡Bienvenido!")]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",min:"5",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.loginUser()}},model:{value:t.login.username,callback:function(e){t.$set(t.login,"username",e)},expression:"login.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.loginUser()}},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(e){t.loginUser()}}},[t._v(t._s(t.global.title.login))])]),a("div",{staticClass:"has-text-centered"},[a("a",{on:{click:function(e){t.changeShow(2)}}},[t._v(t._s(t.global.title.register))])])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.show,expression:"show==2"}],staticClass:"column is-one-third master"},[a("section",{staticClass:"section"},[a("p",{staticClass:"title is-3 has-text-centered"},[t._v("¡Únete!")]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser()}},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser()}},model:{value:t.register.nit,callback:function(e){t.$set(t.register,"nit",e)},expression:"register.nit"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser()}},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser()}},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username",e)},expression:"register.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser()}},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(e){t.newUser()}}},[t._v(t._s(t.global.button.save))])]),a("div",{staticClass:"has-text-centered"},[a("a",{on:{click:function(e){t.changeShow(1)}}},[t._v(t._s(t.global.title.login))])])],1)]),t._m(0)])},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"interactive-bg column master submaster"},[a("img",{staticClass:"login-logo",attrs:{src:"img/logo.svg"}})])}],O={name:"login",data:function(){return{show:1,login:{username:"",password:""},register:{name:"",nit:"",email:"",username:"",password:""},global:k.text}},methods:{changeShow:function(t){this.show=t},newUser:function(){var t=this;this.validateInput(this.register)&&v.post("/others/newuser",this.register).then(function(e){t.$log.debug(e.data),e.data.res?(y(t,e.data.cod),t.show=1,t.clearRegister()):y(t,e.data.err)}).catch(function(t){alert(t)})},loginUser:function(){this.validateInput(this.login)&&$.authenticate(this,this.login,"dash")},clearRegister:function(){this.register.name="",this.register.email="",this.register.nit="",this.register.username="",this.register.password=""},go:function(t){this.$router.push({name:t})},validateInput:function(t){var e=!0;for(var a in t)if(""==t[a])return e=!1,y(this,"E007"),e;return e}}},j=O,F=(a("tlMx"),Object(l["a"])(j,z,N,!1,null,"1fbb1b02",null)),U=F.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dash"}},[a("nav",{staticClass:"navbar is-transparent"},[a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",on:{click:function(e){t.go("home")}}},[a("img",{attrs:{src:"img/logo.svg",alt:"Andromeda",width:"50",height:"28"}}),a("h1",{staticClass:"title is-5"},[t._v("Andromeda")])]),a("div",{staticClass:"navbar-burger burger",attrs:{"data-target":"moreNavbar"},on:{click:function(e){t.burger()}}},[a("span"),a("span"),a("span")])]),a("div",{staticClass:"navbar-menu",attrs:{id:"moreNavbar"}},[a("div",{staticClass:"navbar-end"},[a("div",{staticClass:"navbar-item"},[a("div",{staticClass:"field is-grouped"},[a("b-dropdown",{attrs:{hoverable:""}},[a("button",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",attrs:{slot:"trigger"},slot:"trigger"},[a("span",[t._v(t._s(t.userData.username))]),a("b-icon",{attrs:{pack:"fas",icon:"bars",size:"is-small"}})],1),a("b-dropdown-item",{on:{click:function(e){t.isComponentModalUserActive=!0}}},[t._v("Cuenta")]),a("b-dropdown-item",{on:{click:function(e){t.logout()}}},[t._v("Salir")])],1)],1)])])])]),a("div",{staticClass:"columns is-fullheight"},[a("div",{staticClass:"column is-2 is-sidebar-menu is-hidden-mobile"},[a("div",{staticClass:"container-photo"},[a("img",{staticClass:"photo",attrs:{src:""==t.userInfoData.photo?"img/profile_default.svg":t.api+"/uploads/profile/"+t.userInfoData.photo}}),a("p",{staticClass:"title is-5 fullname"},[t._v(t._s(t.userInfoData.name+" "+t.userInfoData.lastname))])]),a("hr"),a("aside",{staticClass:"menu"},[a("p",{staticClass:"menu-label title is-6"},[t._v("\n          Menu\n        ")]),a("ul",{staticClass:"menu-list"},t._l(t.items,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.role,expression:"item.role"}],key:s,on:{click:function(a){t.go(e.url)}}},[a("a",[a("b-icon",{attrs:{pack:"fas",icon:e.icon,size:"is-small"}}),t._v("\n              "+t._s(e.title)+"\n            ")],1)])}))])]),a("div",{staticClass:"column is-main-content"},[a("b-modal",{attrs:{active:t.isComponentModalUserActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalUserActive=e}}},[a("modal-user-data",{attrs:{userData:t.userData,userInfoData:t.userInfoData}})],1),a("router-view")],1)]),t._m(0),a("b-loading",{attrs:{"is-full-page":t.isFullPage,active:t.isLoading,"can-cancel":!1},on:{"update:active":function(e){t.isLoading=e}}})],1)},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"content has-text-centered"},[a("p",[t._v("\n        ©2018 — "),a("strong",[t._v("Andromeda")])])])])}],B=(a("rGqo"),a("ls82"),a("MECJ")),T=new s["default"],q=T,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v("NIT: "+t._s(t.infoPersonal.nit))])]),a("section",{staticClass:"modal-card-body"},[a("b-tabs",{staticClass:"block",attrs:{position:"is-centered"}},[a("b-tab-item",{attrs:{label:"Datos Personales"}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:t.infoPersonal.name,callback:function(e){t.$set(t.infoPersonal,"name",e)},expression:"infoPersonal.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Apellido",type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:t.infoPersonal.lastname,callback:function(e){t.$set(t.infoPersonal,"lastname",e)},expression:"infoPersonal.lastname"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.email,type:"text","icon-pack":"fas",icon:"at",maxlength:"20",rounded:""},model:{value:t.infoPersonal.email,callback:function(e){t.$set(t.infoPersonal,"email",e)},expression:"infoPersonal.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.phone,type:"text","icon-pack":"fas",icon:"phone",maxlength:"20",rounded:""},model:{value:t.infoPersonal.phone,callback:function(e){t.$set(t.infoPersonal,"phone",e)},expression:"infoPersonal.phone"}})],1)],1),a("div",{staticClass:"column is-6"},[t.isProfile?a("div",[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:t.api+"/uploads/profile/"+t.infoPersonal.photo}})])]):a("div",[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:"img/profile_default.svg"}})])]),a("br"),a("div",{staticClass:"file has-name is-small has-name is-boxed"},[a("label",{staticClass:"file-label"},[a("input",{ref:"profile",staticClass:"file-input",attrs:{type:"file",name:"profile",id:"profile"},on:{change:function(e){t.handleFileUpload()}}}),a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[t._v("\n                                    Choose a file…\n                                ")])]),a("span",{staticClass:"file-name"},[t._v("\n                                "+t._s(t.profile.name)+"\n                                ")])])])])])]),a("b-tab-item",{attrs:{label:"Dirección"}},[a("b-field",[a("b-input",{attrs:{placeholder:"País",type:"text","icon-pack":"fas",icon:"globe",maxlength:"20",rounded:""},model:{value:t.infoPersonal.address.country,callback:function(e){t.$set(t.infoPersonal.address,"country",e)},expression:"infoPersonal.address.country"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Estado",type:"text","icon-pack":"fas",icon:"location-arrow",maxlength:"20",rounded:""},model:{value:t.infoPersonal.address.state,callback:function(e){t.$set(t.infoPersonal.address,"state",e)},expression:"infoPersonal.address.state"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Localidad",type:"text","icon-pack":"fas",icon:"map-marker-alt",maxlength:"20",rounded:""},model:{value:t.infoPersonal.address.location,callback:function(e){t.$set(t.infoPersonal.address,"location",e)},expression:"infoPersonal.address.location"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Descripción",type:"text","icon-pack":"fas",icon:"compass",maxlength:"20",rounded:""},model:{value:t.infoPersonal.address.description,callback:function(e){t.$set(t.infoPersonal.address,"description",e)},expression:"infoPersonal.address.description"}})],1)],1),a("b-tab-item",{attrs:{label:"Autenticación"}},[a("b-field",[a("b-input",{attrs:{placeholder:"Username",type:"text","icon-pack":"fas",icon:"user-astronaut",maxlength:"20",rounded:""},model:{value:t.infoUser.username,callback:function(e){t.$set(t.infoUser,"username",e)},expression:"infoUser.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Referencia",type:"text","icon-pack":"fas",icon:"sync-alt",maxlength:"20",rounded:"",disabled:""},model:{value:t.infoUser.ref,callback:function(e){t.$set(t.infoUser,"ref",e)},expression:"infoUser.ref"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Role",type:"text","icon-pack":"fas",icon:"hand-paper",maxlength:"50",rounded:"",disabled:""},model:{value:t.infoUser.rol,callback:function(e){t.$set(t.infoUser,"rol",e)},expression:"infoUser.rol"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Contraseña",type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:"",disabled:""},model:{value:t.infoUser.password,callback:function(e){t.$set(t.infoUser,"password",e)},expression:"infoUser.password"}})],1)],1)],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v("Close")]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(e){t.saveData()}}},[t._v("Guardar")])])])},Y=[],V=a("WjD0"),G=a.n(V),J={data:function(){return{infoPersonal:"",infoUser:"",global:k.text,isProfile:!1,profile:"",api:"https://server-andromeda.herokuapp.com"}},props:["userData","userInfoData"],methods:{loadData:function(){this.infoPersonal=this.userInfoData,this.infoUser=this.userData,""!=this.userInfoData.photo&&(this.isProfile=!0)},handleFileUpload:function(){this.profile=this.$refs.profile.files[0]},uploadProfile:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new G.a,e.append("profile",this.profile),a="",t.next=5,v.post("/upprofile",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.res&&(a=t.data.profile.filename)}).catch(function(t){y(s,"E009"),s.$log.debug(t)});case 5:return t.abrupt("return",a);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""==this.profile){t.next=5;break}return t.next=3,this.uploadProfile();case 3:e=t.sent,this.infoPersonal.photo=e;case 5:return a=!1,t.next=8,v.put("/infopersonal/".concat(this.infoPersonal._id),this.infoPersonal,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){a=!!t.data.res}).catch(function(t){alert(t)});case 8:return t.next=10,v.put("/user/".concat(this.infoUser._id),this.infoUser,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res?a&&(y(s,"S003"),s.$parent.close(),location.reload()):y(s,"E008")}).catch(function(t){alert(t)});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){this.loadData()},watch:{$route:"loadData"}},K=J,W=(a("xki0"),Object(l["a"])(K,H,Y,!1,null,"385f66c1",null)),Q=W.exports,Z="";q.$on("getInfopersonal",function(t){return this.$log.debug(Z),t});var X={data:function(){return{drawer:!0,preLoading:0,isLoading:!0,isFullPage:!0,isComponentModalUserActive:!1,userData:"",userInfoData:"",api:"https://server-andromeda.herokuapp.com",items:[{title:"Home",icon:"home",role:!0,type:"ALL",url:"home"},{title:"Usuarios",icon:"users",role:!1,type:"ALL",url:"users"},{title:"Soporte",icon:"wrench",role:!1,type:"A",url:"supporta"},{title:"Soporte",icon:"wrench",role:!1,type:"C",url:"supportc"},{title:"Reporte",icon:"clipboard",role:!1,type:"A",url:"report"},{title:"Calendar",icon:"calendar-alt",role:!1,type:"ALL",url:"calendar"},{title:"Facturación",icon:"dollar-sign",role:!1,type:"A",url:"billadmin"},{title:"Facturación",icon:"dollar-sign",role:!1,type:"C",url:"billclient"}],right:null,menus:[{title:"Cerrar Sesión"}]}},methods:{logout:function(){var t=this;v.get("/logout").then(function(e){e.data.res&&(t.$cookie.delete("token"),t.$cookie.delete("userId"),t.$cookie.delete("ref"),t.$cookie.delete("type_user"),t.$cookie.delete("infopersonalId"),location.reload())}).catch(function(t){alert(t)})},go:function(t){this.$router.push({name:t})},loadDataUser:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/user/".concat(this.$cookie.get("userId")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){e.userData=t.data.user,e.preLoading=e.preLoading+1,e.$cookie.set("ref",e.userData.ref),e.$cookie.set("type_user",e.userData.type_user)}).catch(function(t){alert(t)});case 2:return t.next=4,v.get("/infopersonal/".concat(this.userData.id_infopersonal),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){e.userInfoData=t.data.infoPersonal,e.preLoading=e.preLoading+1,e.$cookie.set("infopersonalId",e.userInfoData._id)}).catch(function(t){alert(t)});case 4:return t.next=6,this.loadRoleUser();case 6:return t.next=8,this.isNotLoading();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadRoleUser:function(){var t=this;if(2==this.preLoading){if(0==this.userData.type_user)if("ALL"==this.userData.rol)this.items.forEach(function(t){"ALL"==t.type||"A"==t.type?t.role=!0:t.role=!1});else{var e=this.userData.rol.split("|");e.forEach(function(e){t.items.forEach(function(t){"ALL"==e.type||"A"==e.type?e==t.title&&(t.role=!0):e.role=!1})})}if(1==this.userData.type_user)if("ALL"==this.userData.rol)this.items.forEach(function(t){"ALL"==t.type||"C"==t.type?t.role=!0:t.role=!1});else{var a=this.userData.rol.split("|");a.forEach(function(e){t.items.forEach(function(t){"ALL"==e.type||"C"==e.type?e==t.title&&(t.role=!0):e.role=!1})})}}},burger:function(){var t=document.querySelector(".burger"),e=document.querySelector("#"+t.dataset.target);t.classList.toggle("is-active"),e.classList.toggle("is-active")},isNotLoading:function(){2==this.preLoading&&(this.isLoading=!1)}},created:function(){this.loadDataUser()},watch:{$route:"loadDataUser"},components:{ModalUserData:Q}},tt=X,et=(a("uYUK"),Object(l["a"])(tt,I,L,!1,null,"1c938b3a",null)),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"hero is-primary is-fullheight"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container has-text-centered"},[a("div",{staticClass:"column is-4 is-offset-4"},[a("h3",{staticClass:"title is-2 has-text-white"},[t._v("Root")]),a("div",{staticClass:"box"},[a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newRoot()}},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newRoot()}},model:{value:t.register.nit,callback:function(e){t.$set(t.register,"nit",e)},expression:"register.nit"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newRoot()}},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newRoot()}},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username",e)},expression:"register.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newRoot()}},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(e){t.newRoot()}}},[t._v(t._s(t.global.button.save))])])],1)])])])])])},it=[],nt={data:function(){return{register:{name:"",nit:"",email:"",username:"",password:"",type_user:"0"},global:k.text}},methods:{newRoot:function(){var t=this;this.validateInput(this.register)&&v.post("/others/newroot",this.register).then(function(e){t.$log.debug(e.data),e.data.res?y(t,e.data.cod):y(t,e.data.err)}).catch(function(e){t.$log.debug("hola megan"),alert(e)})},validateInput:function(t){var e=!1;for(var a in t)e=""!=t[a];return e||y(this,"E007"),e}}},rt=nt,ot=Object(l["a"])(rt,st,it,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v("\n            "+t._s(t.global.title.support)+" \n        ")])]),a("br"),a("b-tabs",{attrs:{type:"is-boxed",position:"is-centered",expanded:""}},[a("b-tab-item",{attrs:{label:"Para todos","icon-pack":"fas",icon:"door-open"}},["0"==t.showTypeTable?a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.approve()}}},[a("span",[t._v(t._s(t.global.button.approve))]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-thumbs-up"})])]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(e){t.deny()}}},[a("span",[t._v(t._s(t.global.button.deny))]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])])]):t._e(),a("b-table",{attrs:{data:t.isEmpty?[]:t.data,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"client",label:"Cliente",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsClient(e.row.id_client)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[t._v("\n                            "+t._s(e.row.createdAt.substring(0,10))+"\n                        ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[t._v("\n                        "+t._s(e.row.issue)+"\n                    ")]),a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[""!=e.row.assigned?a("a",{staticClass:"button is-success is-small",on:{click:function(a){t.loadDetailsClient(e.row.assigned)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])]):a("div",[t._v("\n                            n/a\n                        ")])]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==e.row.status?"is-warning":"A"==e.row.status?"is-info":"R"==e.row.status?"is-danger":"F"==e.row.status?"is-success":"is-dark"}},[t._v("\n\n                            "+t._s("P"==e.row.status?"Pendiente":"A"==e.row.status?"Aprobado":"R"==e.row.status?"Rechazado":"F"==e.row.status?"Finalizado":"Cancelado")+"\n                            \n                            ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsSupport(e.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1),a("b-tab-item",{attrs:{label:"Para mí","icon-pack":"fas",icon:"door-closed"}},["0"==t.showTypeTable?a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.finalize()}}},[a("span",[t._v("Finalizar")]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plug"})])]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])])]):t._e(),a("b-table",{attrs:{data:t.isEmpty?[]:t.dataForMe,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selectedForMe,paginated:t.isPaginated,"per-page":t.perPageForMe,"current-page":t.currentPageForMe,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selectedForMe=e},"update:currentPage":function(e){t.currentPageForMe=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"client",label:"Cliente",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsClient(e.row.id_client)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[t._v("\n                            "+t._s(e.row.createdAt.substring(0,10))+"\n                        ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[t._v("\n                        "+t._s(e.row.issue)+"\n                    ")]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==e.row.status?"is-warning":"A"==e.row.status?"is-info":"R"==e.row.status?"is-danger":"F"==e.row.status?"is-success":"is-dark"}},[t._v("\n\n                            "+t._s("P"==e.row.status?"Pendiente":"A"==e.row.status?"Aprobado":"R"==e.row.status?"Rechazado":"F"==e.row.status?"Finalizado":"Cancelado")+"\n                            \n                            ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsSupport(e.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])]),a("b-table-column",{attrs:{field:"record",label:"Historial",centered:"",sortable:""}},["F"!=e.row.status?a("a",{staticClass:"button is-success is-small",on:{click:function(a){t.showRecordSupportAdmin(e.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-headset"})])]):a("a",{staticClass:"button is-black is-small"},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-headset"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)],1),a("b-modal",{attrs:{active:t.isComponentModalDetailsSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsSupportActive=e}}},[a("modal-details-support",{attrs:{dataSupport:t.data,nroSupport:t.nroSupport}})],1),a("b-modal",{attrs:{active:t.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsClientActive=e}}},[a("modal-details-client",{attrs:{idClient:t.idClient}})],1),a("b-modal",{attrs:{active:t.isComponentModalAssignSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalAssignSupportActive=e}}},[a("modal-assign-support",{attrs:{support:t.selected},on:{"hijo:change":t.listenSon}})],1),a("b-modal",{attrs:{active:t.isComponentModalRecordSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalRecordSupportActive=e}}},[a("modal-record-support-admin",{attrs:{nroSupport:t.nroSupport},on:{"hijo:change":t.listenSon}})],1)],1)},ut=[],dt=(a("a1Th"),a("yt8O"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.details))])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Nro.")]),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.data.nro))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v(t._s(t.global.title.date))]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[t._v(t._s(t.data.createdAt.substring(0,10)))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v(t._s(t.global.title.status))]),a("b-tag",{attrs:{type:"P"==t.data.status?"is-warning":"A"==t.data.status?"is-success":"R"==t.data.status?"is-danger":"is-dark",size:"is-medium"}},[t._v("\n                        "+t._s("P"==t.data.status?"Pendiente":"A"==t.data.status?"Aprobado":"R"==t.data.status?"Rechazado":"Cancelado")+"\n                    ")])],1)],1)]),a("br"),a("div",{staticClass:"content"},[a("h3",[t._v(t._s(t.data.issue))]),a("hr"),a("p",[t._v(t._s(t.data.description))]),a("hr"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isImg,expression:"isImg"}]},t._l(t.images,function(e,s){return a("figure",{key:s,staticClass:"image is-4by3"},[a("img",{attrs:{src:t.api+"/uploads/support/"+e}})])}))])],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))])])])}),pt=[],ft={data:function(){return{global:k.text,images_support:[],data:"",images:[],isImg:!1,api:"https://server-andromeda.herokuapp.com"}},props:["dataSupport","nroSupport"],methods:{loadDataSupport:function(){for(var t in this.dataSupport)this.dataSupport[t].nro==this.nroSupport&&(this.data=this.dataSupport[t]);if(""!=this.data.images){var e=this.data.images.split(""),a=!1;for(var s in e)"|"==e[s]&&(a=!0);0==a?this.images.push(this.data.images):this.images=this.data.images.split("|"),this.isImg=!0}}},created:function(){this.loadDataSupport()},watch:{$route:"loadDataSupport"}},ht=ft,bt=(a("tl+O"),Object(l["a"])(ht,dt,pt,!1,null,"13385791",null)),mt=bt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.details)+" del Cliente")])]),a("section",{staticClass:"modal-card-body"},[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:""==t.data.photo?"img/profile_default.svg":t.api+"/uploads/profile/"+t.data.photo}})]),a("br"),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Nit")]),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[t._v(t._s(t.data.nit))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Nombre")]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[t._v(t._s(t.data.name)+" "+t._s(t.data.lastname))])],1)],1)]),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Email")]),a("b-tag",{attrs:{type:"is-success",size:"is-medium"}},[t._v(t._s(t.data.email))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[t._v("Telf.")]),a("b-tag",{attrs:{type:"is-warning",size:"is-medium"}},[t._v(t._s(t.data.phone))])],1)],1)]),a("br"),a("div",{staticClass:"content"},[a("h3",[t._v("Dirección")]),a("p",[a("strong",[t._v("País: ")]),t._v(t._s(t.data.address.country))]),a("p",[a("strong",[t._v("Estado: ")]),t._v(t._s(t.data.address.state))]),a("p",[a("strong",[t._v("Localidad: ")]),t._v(t._s(t.data.address.location))]),a("p",[a("strong",[t._v("Descripción: ")]),t._v(t._s(t.data.address.description))])])],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))])])])},vt=[],Ct={data:function(){return{global:k.text,images_support:[],data:"",images:[],isImg:!1,api:"https://server-andromeda.herokuapp.com"}},props:["idClient"],methods:{loadDataClient:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/user/".concat(this.idClient),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(a){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a.data.res){t.next=4;break}return s=a.data.user.id_infopersonal,t.next=4,v.get("/infopersonal/".concat(s),{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){e.data=t.data.infoPersonal}).catch(function(t){alert(t)});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},created:function(){this.loadDataClient()},watch:{$route:"loadDataClient"}},_t=Ct,wt=(a("bCAU"),Object(l["a"])(_t,gt,vt,!1,null,"3ad8f3de",null)),kt=wt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.assignSupport))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.toAssign+": "))]),a("b-field",[a("b-select",{attrs:{icon:"users","icon-pack":"fas",placeholder:"Nombre"},model:{value:t.isAssignSelect,callback:function(e){t.isAssignSelect=e},expression:"isAssignSelect"}},t._l(t.nameAdmin,function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name+" "+e.lastname)+"\n                ")])}))],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(e){e.preventDefault(),t.saveAssignSupport()}}},[t._v(t._s(t.global.button.save))])])])},xt=[],St={data:function(){return{global:k.text,nameAdmin:[],isAssignSelect:"",supportSelect:""}},props:["support"],methods:{refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.supportSelect=this.support,t.next=3,v.get("/user/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(a){var s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a.data.res){t.next=8;break}s=regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/infopersonal/".concat(a.data.user[s].id_infopersonal),{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.nameAdmin.push({id:a.data.user[s]._id,name:t.data.infoPersonal.name,lastname:t.data.infoPersonal.lastname})}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}),t.t0=regeneratorRuntime.keys(a.data.user);case 3:if((t.t1=t.t0()).done){t.next=8;break}return i=t.t1.value,t.delegateYield(s(i),"t2",6);case 6:t.next=3;break;case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t)});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveAssignSupport:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.supportSelect.status="A",this.supportSelect.assigned=this.isAssignSelect,t.next=4,v.put("/support/changestatus/".concat(this.supportSelect._id),this.supportSelect,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a.data.res){t.next=3;break}return t.next=3,v.post("/record",{nro_support:e.supportSelect.nro,activities:[]},{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&(e.$toast.open({message:"Solicitud Aprobada",type:"is-success"}),e.$emit("hijo:change"),e.$parent.close())}).catch(function(t){alert(t)});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t)});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateInput:function(t){var e=!0;for(var a in t)if(""==t[a])return e=!1,y(this,"E007"),e;return e}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},$t=St,At=(a("IMR+"),Object(l["a"])($t,yt,xt,!1,null,"6e2ddea8",null)),Dt=At.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.recordSupport))])]),a("section",{staticClass:"modal-card-body"},[a("b-tabs",{staticClass:"block",attrs:{position:"is-centered",type:"is-boxed"}},[a("b-tab-item",{attrs:{label:"Crear"}},[a("div",{staticClass:"createRecord"},[a("p",{staticClass:"title is-5"},[t._v("Crear nueva actividad: ")]),a("b-field",[a("b-datepicker",{attrs:{placeholder:"Fecha",icon:"calendar-alt","icon-pack":"fas",rounded:""},model:{value:t.activity.date,callback:function(e){t.$set(t.activity,"date",e)},expression:"activity.date"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Titulo",type:"text","icon-pack":"fas",icon:"space-shuttle",maxlength:"20",rounded:""},model:{value:t.activity.title,callback:function(e){t.$set(t.activity,"title",e)},expression:"activity.title"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.title.details,type:"text","icon-pack":"fas",icon:"info-circle",maxlength:"20",rounded:""},model:{value:t.activity.details,callback:function(e){t.$set(t.activity,"details",e)},expression:"activity.details"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.description,type:"textarea",minlength:"20",maxlength:"100",rounded:""},model:{value:t.activity.description,callback:function(e){t.$set(t.activity,"description",e)},expression:"activity.description"}})],1),a("div",{staticClass:"block"},[a("b-radio",{attrs:{"native-value":"0"},model:{value:t.isHoursServ,callback:function(e){t.isHoursServ=e},expression:"isHoursServ"}},[t._v("\n                            Horas\n                        ")]),a("b-radio",{attrs:{"native-value":"1"},model:{value:t.isHoursServ,callback:function(e){t.isHoursServ=e},expression:"isHoursServ"}},[t._v("\n                            Servicio\n                        ")])],1),"0"==t.isHoursServ?a("div",[a("b-field",[a("b-input",{attrs:{placeholder:"Horas",type:"number","icon-pack":"fas",icon:"hourglass-start",maxlength:"2",rounded:""},model:{value:t.hours,callback:function(e){t.hours=e},expression:"hours"}})],1)],1):a("div",[a("b-field",[a("b-input",{attrs:{placeholder:"Servicio",type:"text","icon-pack":"fas",icon:"concierge-bell",value:t.service,rounded:"",disabled:""},model:{value:t.service,callback:function(e){t.service=e},expression:"service"}})],1)],1),a("br"),a("b-field",[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){t.saveActivity()}}},[t._v("\n                            Guardar\n                            ")])])])],1)]),a("b-tab-item",{attrs:{label:"Visualizar"}},[0!=t.record.activities.length?a("div",t._l(t.record.activities,function(e,s){return a("b-collapse",{key:s,staticClass:"card",attrs:{open:!1},scopedSlots:t._u([{key:"trigger",fn:function(s){return a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[t._v("\n                                Fecha: "+t._s(e.date.substring(0,10))+"\n                            ")]),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:s.open?"sort-down":"caret-up"}})],1)])}}])},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("strong",[t._v("Titulo: ")]),a("p",[t._v(t._s(e.title))]),a("strong",[t._v("Detalles: ")]),a("p",[t._v(t._s(e.details))]),a("strong",[t._v("Descripción: ")]),a("p",[t._v(t._s(e.description))])])]),a("footer",{staticClass:"card-footer"},[a("a",{staticClass:"card-footer-item"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark"}},[t._v("Nro.")]),a("b-tag",{attrs:{type:"is-info"}},[t._v(t._s(e.nro_activity))])],1)],1),a("a",{staticClass:"card-footer-item"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark"}},[t._v("Hrs/Serv")]),a("b-tag",{attrs:{type:"is-info"}},[t._v(t._s(e.hours_service))])],1)],1)])])})):a("div",[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))])])])},Pt=[],Et={data:function(){return{global:k.text,isHoursServ:"0",hours:0,service:"Servicio",activity:{date:"",nro_activity:"",title:"",details:"",description:"",hours_service:""},record:""}},props:["nroSupport"],methods:{generateNro:function(){var t=new Date;return t.getTime()},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/record/nro/".concat(this.nroSupport),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&(e.record=t.data.record[0])}).catch(function(t){alert(t)});case 2:return t.next=4,this.$log.debug(this.record);case 4:return t.next=6,this.$log.debug(this.activities);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveActivity:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.activity.nro_activity=this.generateNro(),"0"==this.isHoursServ?this.activity.hours_service=this.hours.toString():this.activity.hours_service=this.service,this.record.activities.push(this.activity),t.next=5,v.put("/record/".concat(this.record._id),this.record,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&(e.$toast.open({message:"Actividad Registrada",type:"is-success"}),e.clear(),e.refreshData())}).catch(function(t){alert(t)});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateInput:function(t){var e=!0;for(var a in t)if(""==t[a])return e=!1,y(this,"E007"),e;return e},clear:function(){this.activity.date="",this.activity.nro_activity="",this.activity.title="",this.activity.details="",this.activity.description="",this.activity.hours_service="",this.hours=""}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Mt=Et,zt=(a("/8Y/"),Object(l["a"])(Mt,Rt,Pt,!1,null,"501593fa",null)),Nt=zt.exports,Ot={data:function(){return{isComponentModalDetailsSupportActive:!1,isComponentModalDetailsClientActive:!1,isComponentModalAssignSupportActive:!1,isComponentModalRecordSupportActive:!1,idClient:"",nroSupport:"",clients:[],global:k.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7,showTypeTable:"0",dataForMe:[],selectedForMe:"",perPageForMe:4,currentPageForMe:1}},components:{ModalDetailsSupport:mt,ModalDetailsClient:kt,ModalAssignSupport:Dt,ModalRecordSupportAdmin:Nt},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected="",this.selectedForMe=""},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/support/all",{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){if(t.data.res)for(var a in e.data=t.data.support,e.dataForMe=[],e.data)e.data[a].assigned==e.$cookie.get("userId")&&e.dataForMe.push(e.data[a])}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),convertStatus:function(t){var e="";return"P"==t&&(e={name:"Pendiente",tag:"is-warning"}),"A"==t&&(e={name:"Aprobado",tag:"is-info"}),"R"==t&&(e={name:"Rechazado",tag:"is-danger"}),"C"==t&&(e={name:"Cancelado",tag:"is-dark"}),"F"==t&&(e={name:"Finalizado",tag:"is-success"}),e},loadDetailsSupport:function(t){this.nroSupport=t,this.isComponentModalDetailsSupportActive=!0},showAssignSupport:function(){this.isComponentModalAssignSupportActive=!0},showRecordSupportAdmin:function(t){this.nroSupport=t,this.isComponentModalRecordSupportActive=!0},loadClients:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(this.data);case 1:if((t.t1=t.t0()).done){t.next=7;break}return e=t.t1.value,t.next=5,v.get("/infopersonal/".concat(this.data[e].id_client),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&a.clients.push(t.data.infoPersonal)}).catch(function(t){alert(t)});case 5:t.next=1;break;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadDetailsClient:function(t){this.idClient=t,this.isComponentModalDetailsClientActive=!0},deny:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"C"==this.selected.status?this.$toast.open({message:"La solicitud fue cancelada por el cliente",type:"is-warning"}):"R"==this.selected.status?this.$toast.open({message:"La solicitud ya fue rechazada",type:"is-warning"}):this.$dialog.confirm({title:"Rechazar Solicitud",message:"¿Estás seguro de rechazar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Rechazar",type:"is-danger",hasIcon:!0,icon:"times",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.selected.status="R",e.next=3,v.put("/support/changestatus/".concat(t.selected._id),t.selected,{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Solicitud Rechazada",type:"is-success"})}).catch(function(t){alert(t)});case 3:return e.next=5,t.refreshData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})},approve:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"C"==this.selected.status?this.$toast.open({message:"La solicitud fue cancelada por el cliente",type:"is-warning"}):"A"==this.selected.status?this.$toast.open({message:"La solicitud ya fue aprobada",type:"is-warning"}):this.$dialog.confirm({title:"Aprobar Solicitud",message:"¿Estás seguro de aprobar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Aprobar",type:"is-success",hasIcon:!0,icon:"thumbs-up",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.showAssignSupport();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})},finalize:function(){var t=this;""==this.selectedForMe?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"C"==this.selectedForMe.status?this.$toast.open({message:"La solicitud fue cancelada por el cliente",type:"is-warning"}):"F"==this.selectedForMe.status?this.$toast.open({message:"La solicitud ya fue finalizada",type:"is-warning"}):this.$dialog.confirm({title:"Finalizar Soporte",message:"¿Estás seguro de finalizar el soporte nro. #".concat(this.selectedForMe.nro,"?"),confirmText:"Finalizar",type:"is-success",hasIcon:!0,icon:"plug",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.selectedForMe.status="F",e.next=3,v.put("/support/changestatus/".concat(t.selectedForMe._id),t.selectedForMe,{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Soporte Finalizado",type:"is-success"})}).catch(function(t){alert(t)});case 3:return a=0,s=0,e.next=7,v.get("/record/hourserv/".concat(t.selectedForMe.nro),{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(t){t.data.res&&(a=t.data.total_hours,s=t.data.total_service)}).catch(function(t){alert(t)});case 7:return e.next=9,v.post("/report",{nro:t.generateNro(),nro_support:t.selectedForMe.nro,total_hours:a.toString(),total_service:s.toString(),invoiced:"N",ref:t.$cookie.get("ref")},{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Reporte Creado",type:"is-success"})}).catch(function(t){alert(t)});case 9:return e.next=11,t.refreshData();case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})},generateNro:function(){var t=new Date;return t.getTime()}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},jt=Ot,Ft=(a("l4pm"),Object(l["a"])(jt,ct,ut,!1,null,"317c51c6",null)),Ut=Ft.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v(t._s(t.global.title.support))])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.isComponentModalCreateSupportActive=!0}}},[a("span",[t._v(t._s(t.global.button.new))]),t._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(e){t.cancel()}}},[a("span",[t._v(t._s(t.global.button.cancel))]),t._m(1)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),t._m(2)])]),a("b-modal",{attrs:{active:t.isComponentModalCreateSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalCreateSupportActive=e}}},[a("modal-create-support",{on:{"hijo:change":t.listenSon}})],1),a("b-modal",{attrs:{active:t.isComponentModalDetailsSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsSupportActive=e}}},[a("modal-details-support",{attrs:{dataSupport:t.data,nroSupport:t.nroSupport}})],1),a("b-table",{attrs:{data:t.isEmpty?[]:t.data,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[t._v("\n                    "+t._s(e.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.issue)+"\n            ")]),a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[""!=e.row.assigned?a("a",{staticClass:"button is-success is-small",on:{click:function(a){t.loadDetailsClient(e.row.assigned)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])]):a("div",[t._v("\n                    n/a\n                ")])]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==e.row.status?"is-warning":"A"==e.row.status?"is-success":"R"==e.row.status?"is-danger":"is-dark"}},[t._v("\n\n                    "+t._s("P"==e.row.status?"Pendiente":"A"==e.row.status?"Aprobado":"R"==e.row.status?"Rechazado":"Cancelado")+"\n                    \n                    ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsSupport(e.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)},Lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.newsupport))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.issue+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.issue,type:"text","icon-pack":"fas",icon:"user-astronaut",maxlength:"50",rounded:""},model:{value:t.support.issue,callback:function(e){t.$set(t.support,"issue",e)},expression:"support.issue"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.description+": "))]),a("b-field",[a("b-input",{attrs:{type:"textarea",maxlength:"300",rounded:""},model:{value:t.support.description,callback:function(e){t.$set(t.support,"description",e)},expression:"support.description"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.title.images+": "))]),a("div",{staticClass:"file has-name is-boxed"},[a("label",{staticClass:"file-label"},[a("input",{ref:"images",staticClass:"file-input",attrs:{type:"file",multiple:"",name:"images",id:"images"},on:{change:function(e){t.handleFileUpload()}}}),t._m(0)])]),a("div",{staticClass:"tags"},t._l(t.images,function(e,s){return a("span",{key:s,staticClass:"tag is-primary"},[t._v("\n                "+t._s(e.name)+"\n                "),a("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(e){t.deleteDropFile(s)}}})])}))],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(e){e.preventDefault(),t.newSupport()}}},[t._v(t._s(t.global.button.send))])])])},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[t._v("\n                    Choose a file…\n                ")])])}],qt=(a("hhXQ"),{data:function(){return{global:k.text,support:{id_client:this.$cookie.get("userId"),nro:"",issue:"",description:"",images:"",ref:this.$cookie.get("ref")},images:""}},props:["userData","userInfoData"],methods:{deleteDropFile:function(t){this.images.splice(t,1)},newSupport:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.support.nro=this.generateNro(),t.next=3,this.uploadImages();case 3:return this.support.images=t.sent,t.next=6,v.post("/support",this.support,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){e.$log.debug(t.data),t.data.res?(y(e,"S002"),e.$emit("hijo:change"),e.$parent.close()):y(e,"E008")}).catch(function(t){alert(t)});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),generateNro:function(){var t=new Date;return t.getTime()},uploadImages:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,a,s,i,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(e=new G.a,a=0;a<this.images.length;a++)s=this.images[a],e.append("images",s);return i="",t.next=5,v.post("/upsupport",e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){if(t.data.res)for(var e in t.data.images)i=0==e?t.data.images[e].filename:i+"|"+t.data.images[e].filename}).catch(function(t){y(n,"E009"),n.$log.debug(t)});case 5:return t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleFileUpload:function(){this.images=this.$refs.images.files,this.images=Object.values(this.images)}}}),Ht=qt,Yt=(a("As3I"),Object(l["a"])(Ht,Bt,Tt,!1,null,"c199e3e4",null)),Vt=Yt.exports,Gt={data:function(){return{isComponentModalCreateSupportActive:!1,isComponentModalDetailsSupportActive:!1,nroSupport:"",global:k.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7}},components:{ModalCreateSupport:Vt,ModalDetailsSupport:mt,ModalDetailsClient:kt},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/support/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&(e.data=t.data.support)}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),convertStatus:function(t){var e="";return"P"==t&&(e={name:"Pendiente",tag:"is-warning"}),"A"==t&&(e={name:"Aprobado",tag:"is-success"}),"R"==t&&(e={name:"Rechazado",tag:"is-danger"}),"C"==t&&(e={name:"Cancelado",tag:"is-dark"}),e},loadDetailsSupport:function(t){this.nroSupport=t,this.isComponentModalDetailsSupportActive=!0},cancel:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Cancelar solicitud",message:"¿Estás seguro de cancelar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Cancelar",type:"is-danger",hasIcon:!0,icon:"times",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.selected.status="C",e.next=3,v.put("/support/changestatus/".concat(t.selected._id),t.selected,{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Solicitud Cancelada",type:"is-success"})}).catch(function(t){alert(t)});case 3:return e.next=5,t.refreshData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Jt=Gt,Kt=(a("xKzq"),Object(l["a"])(Jt,It,Lt,!1,null,"8d1d7b42",null)),Wt=Kt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{ref:"pdf"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v("Gestión de Reportes")])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.checkIn()}}},[a("span",[t._v("Facturar")]),t._m(0)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),t._m(1)]),a("a",[a("b-field",[a("b-radio-button",{attrs:{"native-value":"0",type:"is-success"},model:{value:t.showReport,callback:function(e){t.showReport=e},expression:"showReport"}},[a("b-icon",{attrs:{pack:"fas",icon:"eye"}}),a("span",[t._v("Todos")])],1),a("b-radio-button",{attrs:{"native-value":"1",type:"is-info"},model:{value:t.showReport,callback:function(e){t.showReport=e},expression:"showReport"}},[a("b-icon",{attrs:{pack:"fas",icon:"check-double"}}),a("span",[t._v("Facturados")])],1),a("b-radio-button",{attrs:{"native-value":"2",type:"is-warning"},model:{value:t.showReport,callback:function(e){t.showReport=e},expression:"showReport"}},[a("b-icon",{attrs:{pack:"fas",icon:"check"}}),a("span",[t._v("No Facturados")])],1)],1)],1)]),a("b-modal",{attrs:{active:t.isComponentModalisModalBillReportShowActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalisModalBillReportShowActive=e}}},[a("modal-bill-report",{attrs:{nroSupport:t.nroSupportBill,nroReport:t.nroReportBill,recordSelect:t.recordSelect}})],1),a("b-table",{attrs:{data:t.isEmpty?[]:"0"==t.showReport?t.reportsAll:"1"==t.showReport?t.reportsCheckIn:t.reportsNotCheckIn,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"nro",label:"Nro. de Reporte",centered:"",sortable:""}},[a("span",{staticClass:"tag is-success"},[t._v("\n                    "+t._s(e.row.nro)+"\n                ")])]),a("b-table-column",{attrs:{field:"nro_support",label:"Nro. de Soporte",centered:"",sortable:""}},[a("span",{staticClass:"tag is-info"},[t._v("\n                   "+t._s(e.row.nro_support)+"\n                ")])]),a("b-table-column",{attrs:{field:"total_hours",label:"Total Horas",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.total_hours)+"\n            ")]),a("b-table-column",{attrs:{field:"total_service",label:"Total Servicio",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.total_service)+"\n            ")]),a("b-table-column",{attrs:{field:"invoiced",label:"Facturado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"S"==e.row.invoiced?"is-success":"is-danger"}},[t._v("\n                "+t._s("S"==e.row.invoiced?"SI":"NO")+"\n                ")])],1),a("b-table-column",{attrs:{field:"pdf",label:"PDF",centered:"",sortable:""}},[a("a",{staticClass:"button is-warning is-small",on:{click:function(a){t.showPdf(e.row.nro_support+"|"+e.row.total_hours+"|"+e.row.total_service)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-file-pdf"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)},Zt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bell"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[t._m(0),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[t._v("Introduce la cantidad y el precio de cada actividad: ")]),0!=t.record.activities.length?a("div",t._l(t.record.activities,function(e,s){return a("b-collapse",{key:s,staticClass:"card",attrs:{open:!1},scopedSlots:t._u([{key:"trigger",fn:function(s){return a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[a("b-tag",{attrs:{type:"is-warning",size:"is-medium"}},[t._v("Fecha: "+t._s(e.date.substring(0,10)))])],1),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{pack:"fas",icon:s.open?"sort-down":"caret-up"}})],1)])}}])},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("p",[a("strong",[t._v("Titulo: ")]),t._v(" "+t._s(e.title))]),a("p",[a("strong",[t._v("Descripción: ")]),t._v(t._s(e.description))])]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Cantidad: "}},[a("b-input",{attrs:{placeholder:"Cantidad: ",type:"number","icon-pack":"fas",icon:"info-circle",maxlength:"2",rounded:""},on:{change:t.changePrice},model:{value:t.bill.details[s].cant,callback:function(e){t.$set(t.bill.details[s],"cant",e)},expression:"bill.details[index].cant"}})],1)],1),a("div",{staticClass:"column is-6"},[a("b-field",{attrs:{label:"Precio Unitario: "}},[a("b-input",{attrs:{placeholder:"Precio Unitario: ",type:"number","icon-pack":"fas",icon:"info-circle",maxlength:"2",rounded:""},model:{value:t.bill.details[s].unit_price,callback:function(e){t.$set(t.bill.details[s],"unit_price",e)},expression:"bill.details[index].unit_price"}})],1)],1)])])])})):a("div",[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])]),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(e){e.preventDefault(),t.saveBill()}}},[t._v(t._s(t.global.button.save))])])])},te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v("Detalles de Factura")])])}],ee={data:function(){return{global:k.text,isHoursServ:"0",hours:0,service:"Servicio",activity:{date:"",nro_activity:"",title:"",details:"",description:"",hours_service:""},record:"",client:"",bill:{nro_report:"",id_client:"",details:[],sub_total:0,iva:0,total_amount:0,ref:""}}},props:["nroSupport","nroReport","recordSelect"],methods:{generateNro:function(){var t=new Date;return t.getTime()},changePrice:function(){for(var t in this.bill.details)this.bill.details[t].total=this.bill.details[t].cant*this.bill.details[t].unit_price,this.bill.sub_total=this.bill.sub_total+this.bill.details[t].total;this.bill.iva=this.bill.iva+.12*this.bill.sub_total,this.bill.total_amount=this.bill.iva+this.bill.sub_total},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/record/nro/".concat(this.nroSupport),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){if(t.data.res)for(var a in e.record=t.data.record[0],e.record.activities)e.bill.details.push({cant:0,description:e.record.activities[a].title,unit_price:0,total:0})}).catch(function(t){alert(t)});case 2:return t.next=4,this.$log.debug(this.record);case 4:return t.next=6,this.$log.debug(this.activities);case 6:return t.next=8,this.loadClient();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadClient:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/support/nro/".concat(this.nroSupport),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a.data.res&&(e.client=a.data.support);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveBill:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.bill.ref=this.$cookie.get("ref"),this.bill.id_client=this.client,this.bill.nro_report=this.nroReport,this.changePrice(),this.recordSelect.invoiced="S",t.next=7,v.put("/report/changeinvoiced/".concat(this.recordSelect._id),this.recordSelect,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a.data.res){t.next=4;break}return e.$toast.open({message:"Reporte facturado",type:"is-success"}),t.next=4,v.post("/bill",e.bill,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&(e.$toast.open({message:"Factura creada",type:"is-success"}),e.$parent.close())}).catch(function(t){alert(t)});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t)});case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateInput:function(t){var e=!0;for(var a in t)if(""==t[a])return e=!1,y(this,"E007"),e;return e},clear:function(){this.activity.date="",this.activity.nro_activity="",this.activity.title="",this.activity.details="",this.activity.description="",this.activity.hours_service="",this.hours=""}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},ae=ee,se=(a("QBWr"),Object(l["a"])(ae,Xt,te,!1,null,"5af62abc",null)),ie=se.exports,ne={data:function(){return{isComponentModalisModalBillReportShowActive:!1,global:k.text,isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7,showReport:"0",reportsAll:"",reportsCheckIn:[],reportsNotCheckIn:[],nroSupportBill:"",nroReportBill:"",recordSelect:""}},components:{ModalBillReport:ie},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/report/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){if(t.data.res)for(var a in e.reportsAll=t.data.report,e.reportsCheckIn=[],e.reportsNotCheckIn=[],e.reportsAll)"S"==e.reportsAll[a].invoiced?e.reportsCheckIn.push(e.reportsAll[a]):e.reportsNotCheckIn.push(e.reportsAll[a])}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showPdf:function(t){var e=this.$router.resolve({path:"/reportemp/".concat(t)});window.open(e.href,"_blank")},checkIn:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"S"==this.selected.invoiced?this.$toast.open({message:"El reporte ya fue facturado",type:"is-warning"}):this.$dialog.confirm({title:"Facturar Reporte",message:"¿Estás seguro de facturar el reporte nro. #".concat(this.selected.nro,"?"),confirmText:"Facturar",type:"is-success",hasIcon:!0,icon:"bell",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.nroSupportBill=t.selected.nro_support,t.nroReportBill=t.selected.nro,t.recordSelect=t.selected,t.isComponentModalisModalBillReportShowActive=!0;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},re=ne,oe=(a("qStA"),Object(l["a"])(re,Qt,Zt,!1,null,"14e681c0",null)),le=oe.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v(t._s(t.global.title.users))])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.loadCreateNewUser()}}},[a("span",[t._v(t._s(t.global.button.new))]),t._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(e){t.lock()}}},[a("span",[t._v(t._s(t.global.button.lock))]),t._m(1)]),a("a",{staticClass:"button is-warning is-small is-rounded",on:{click:function(e){t.unLock()}}},[a("span",[t._v(t._s(t.global.button.unlock))]),t._m(2)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),t._m(3)])]),a("b-modal",{attrs:{active:t.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsClientActive=e}}},[a("modal-details-client",{attrs:{idClient:t.idClient}})],1),a("b-modal",{attrs:{active:t.isComponentModalCreateNewUserActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalCreateNewUserActive=e}}},[a("modal-create-new-user",{on:{"hijo:change":t.listenSon}})],1),a("b-table",{attrs:{data:t.isEmpty?[]:t.data,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsClient(e.row._id)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Creado",centered:"",sortable:""}},[a("span",{staticClass:"tag is-info"},[t._v("\n                    "+t._s(e.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"username",label:"Usuario",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.username)+"\n            ")]),a("b-table-column",{attrs:{field:"rol",label:"Rol",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.rol)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:1==e.row.status?"is-success":"is-danger"}},[t._v("\n                "+t._s(1==e.row.status?"Activo":"Bloqueado")+"\n                ")])],1)]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[t._v(t._s(t.global.title.newuser))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.name+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.nit+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},model:{value:t.register.nit,callback:function(e){t.$set(t.register,"nit",e)},expression:"register.nit"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.email+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},model:{value:t.register.email,callback:function(e){t.$set(t.register,"email",e)},expression:"register.email"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.username+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username",e)},expression:"register.username"}})],1),a("p",{staticClass:"title is-6"},[t._v(t._s(t.global.input.password+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:t.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(e){t.$parent.close()}}},[t._v(t._s(t.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(e){e.preventDefault(),t.newUser()}}},[t._v(t._s(t.global.button.save))])])])},pe=[],fe={data:function(){return{global:k.text,register:{name:"",nit:"",email:"",username:"",password:"",type_user:this.$cookie.get("type_user"),ref:this.$cookie.get("ref")}}},methods:{newUser:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$log.debug(this.validateInput(this.register)),!this.validateInput(this.register)){t.next=4;break}return t.next=4,v.post("/others/newuserforauth",this.register,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){e.$log.debug(t.data),t.data.res?(y(e,"S001"),e.$emit("hijo:change"),e.$parent.close()):y(e,t.data.err)}).catch(function(t){alert(t)});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),validateInput:function(t){var e=!0;for(var a in t)if(""==t[a])return e=!1,y(this,"E007"),e;return e}}},he=fe,be=(a("g4vE"),Object(l["a"])(he,de,pe,!1,null,"12b3bf92",null)),me=be.exports,ge={data:function(){return{isComponentModalDetailsClientActive:!1,isComponentModalCreateNewUserActive:!1,global:k.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7}},components:{ModalDetailsClient:kt,ModalCreateNewUser:me},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/user/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&(e.data=t.data.user)}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),loadDetailsClient:function(t){this.idClient=t,this.isComponentModalDetailsClientActive=!0},loadCreateNewUser:function(){this.isComponentModalCreateNewUserActive=!0},lock:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Bloquear Usuario",message:"¿Estás seguro de bloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Bloquear",type:"is-danger",hasIcon:!0,icon:"lock",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.selected.status=!1,e.next=3,v.put("/user/changestatus/".concat(t.selected._id),t.selected,{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Usuario Bloqueado",type:"is-success"})}).catch(function(t){alert(t)});case 3:return e.next=5,t.refreshData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})},unLock:function(){var t=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Desbloquear Usuario",message:"¿Estás seguro de desbloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Desbloquear",type:"is-warning",hasIcon:!0,icon:"unlock",iconPack:"fas",onConfirm:function(){var e=Object(B["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.selected.status=!0,e.next=3,v.put("/user/changestatus/".concat(t.selected._id),t.selected,{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.$toast.open({message:"Usuario Desbloqueado",type:"is-success"})}).catch(function(t){alert(t)});case 3:return e.next=5,t.refreshData();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},ve=ge,Ce=(a("ePQD"),Object(l["a"])(ve,ce,ue,!1,null,"ad7b7dbc",null)),_e=Ce.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-event-calendar",{attrs:{events:t.demoEvents}})},ke=[],ye={data:function(){return{demoEvents:[{date:"2018/08/12",title:"Foo"},{date:"2016/12/15",title:"Bar",desc:"description",customClass:"disabled highlight"}]}}},xe=ye,Se=(a("3LUJ"),Object(l["a"])(xe,we,ke,!1,null,"04bba4ce",null)),$e=Se.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{ref:"pdf"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v("Gestión de Facturas")])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-warning is-small is-rounded",on:{click:function(e){t.notify()}}},[a("span",[t._v("Notificar")]),t._m(0)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),t._m(1)]),a("a",[a("b-field",[a("b-radio-button",{attrs:{"native-value":"0",type:"is-info"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"eye"}}),a("span",[t._v("Todos")])],1),a("b-radio-button",{attrs:{"native-value":"1",type:"is-success"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"check-double"}}),a("span",[t._v("Pagados")])],1),a("b-radio-button",{attrs:{"native-value":"2",type:"is-danger"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"check"}}),a("span",[t._v("No Pagados")])],1)],1)],1)]),a("b-modal",{attrs:{active:t.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsClientActive=e}}},[a("modal-details-client",{attrs:{idClient:t.idClient}})],1),a("b-table",{attrs:{data:t.isEmpty?[]:"0"==t.showBill?t.billAll:"1"==t.showBill?t.billYes:t.billNot,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"nro",label:"Nro.",centered:"",sortable:""}},[a("span",{staticClass:"tag is-success"},[t._v("\n                    "+t._s(e.row.nro)+"\n                ")])]),a("b-table-column",{attrs:{field:"Cliente",label:"Cliente",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){t.loadDetailsClient(e.row.id_client)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"SubTotal",label:"SubTotal",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.sub_total)+"\n            ")]),a("b-table-column",{attrs:{field:"IVA",label:"IVA",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.iva)+"\n            ")]),a("b-table-column",{attrs:{field:"Total",label:"Total",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.total_amount)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Pago",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"S"==e.row.status?"is-success":"is-danger"}},[t._v("\n                "+t._s("S"==e.row.status?"SI":"NO")+"\n                ")])],1),a("b-table-column",{attrs:{field:"pdf",label:"PDF",centered:"",sortable:""}},[a("a",{staticClass:"button is-warning is-small",on:{click:function(e){t.showPdf()}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-file-pdf"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bell"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Re={data:function(){return{isComponentModalDetailsClientActive:!1,global:k.text,isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7,showBill:"0",idClient:"",billAll:"",billYes:[],billNot:[]}},components:{ModalDetailsClient:kt},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},loadDetailsClient:function(t){this.idClient=t,this.isComponentModalDetailsClientActive=!0},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/bill/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){if(t.data.res)for(var a in e.billAll=t.data.bill,e.billYes=[],e.billNot=[],e.billAll)"S"==e.billAll[a].status?e.billYes.push(e.billAll[a]):e.billNot.push(e.billAll[a])}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showPdf:function(){}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Pe=Re,Ee=(a("rMJt"),Object(l["a"])(Pe,Ae,De,!1,null,"32e2a923",null)),Me=Ee.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{ref:"pdf"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[t._v("Gestión de Facturas")])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(e){t.pay()}}},[a("span",[t._v("Pagar")]),t._m(0)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(e){t.deselect()}}},[a("span",[t._v(t._s(t.global.button.deselect))]),t._m(1)]),a("a",[a("b-field",[a("b-radio-button",{attrs:{"native-value":"0",type:"is-info"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"eye"}}),a("span",[t._v("Todos")])],1),a("b-radio-button",{attrs:{"native-value":"1",type:"is-success"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"check-double"}}),a("span",[t._v("Pagados")])],1),a("b-radio-button",{attrs:{"native-value":"2",type:"is-danger"},model:{value:t.showBill,callback:function(e){t.showBill=e},expression:"showBill"}},[a("b-icon",{attrs:{pack:"fas",icon:"check"}}),a("span",[t._v("No Pagados")])],1)],1)],1)]),a("b-modal",{attrs:{active:t.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(e){t.isComponentModalDetailsClientActive=e}}},[a("modal-details-client",{attrs:{idClient:t.idClient}})],1),a("b-table",{attrs:{data:t.isEmpty?[]:"0"==t.showBill?t.billAll:"1"==t.showBill?t.billYes:t.billNot,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards,selected:t.selected,paginated:t.isPaginated,"per-page":t.perPage,"current-page":t.currentPage,"pagination-simple":t.isPaginationSimple,"default-sort-direction":t.defaultSortDirection},on:{"update:selected":function(e){t.selected=e},"update:currentPage":function(e){t.currentPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"nro",label:"Nro.",centered:"",sortable:""}},[a("span",{staticClass:"tag is-success"},[t._v("\n                    "+t._s(e.row.nro)+"\n                ")])]),a("b-table-column",{attrs:{field:"SubTotal",label:"SubTotal",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.sub_total)+"\n            ")]),a("b-table-column",{attrs:{field:"IVA",label:"IVA",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.iva)+"\n            ")]),a("b-table-column",{attrs:{field:"Total",label:"Total",centered:"",sortable:""}},[t._v("\n                "+t._s(e.row.total_amount)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Pago",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"S"==e.row.status?"is-success":"is-danger"}},[t._v("\n                "+t._s("S"==e.row.status?"SI":"NO")+"\n                ")])],1),a("b-table-column",{attrs:{field:"pdf",label:"PDF",centered:"",sortable:""}},[a("a",{staticClass:"button is-warning is-small",on:{click:function(e){t.showPdf()}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-file-pdf"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2)],1)},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-dollar-sign"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Oe={data:function(){return{isComponentModalDetailsClientActive:!1,global:k.text,isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7,showBill:"0",idClient:"",billAll:"",billYes:[],billNot:[]}},components:{ModalDetailsClient:kt},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},loadDetailsClient:function(t){this.idClient=t,this.isComponentModalDetailsClientActive=!0},refreshData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.get("/bill/client/".concat(this.$cookie.get("userId")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){if(t.data.res)for(var a in e.billAll=t.data.bill,e.billYes=[],e.billNot=[],e.billAll)"S"==e.billAll[a].status?e.billYes.push(e.billAll[a]):e.billNot.push(e.billAll[a])}).catch(function(t){alert(t)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),showPdf:function(){}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},je=Oe,Fe=(a("NykB"),Object(l["a"])(je,ze,Ne,!1,null,"2bfd27aa",null)),Ue=Fe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"pdf",staticClass:"master"},[a("div",{staticClass:"carta"},[a("p",{staticClass:"title is-3 center"},[t._v("Reporte de Soporte")]),a("br"),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("strong",{staticClass:"title is-5 max"},[t._v("Cliente: ")]),a("p",{staticClass:"max"},[t._v(t._s(t.client.name+" "+t.client.lastname))])]),a("div",{staticClass:"column is-6 end"},[a("strong",{staticClass:"title is-5 max"},[t._v("Fecha: ")]),a("p",{staticClass:"max"},[t._v(t._s(t.date()))])])]),a("br"),a("p",{staticClass:"title is-4 center"},[t._v("Detalles")]),a("b-table",{attrs:{data:t.isEmpty?[]:t.data,bordered:t.isBordered,striped:t.isStriped,narrowed:t.isNarrowed,hoverable:t.isHoverable,loading:t.isLoading,focusable:t.isFocusable,"mobile-cards":t.hasMobileCards},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-table-column",{attrs:{field:"title",label:"Titulo",centered:""}},[t._v("\n                        "+t._s(e.row.title)+"\n                    ")]),a("b-table-column",{attrs:{field:"details",label:"Detalles",centered:""}},[t._v("\n                        "+t._s(e.row.details)+"\n                    ")]),a("b-table-column",{attrs:{field:"description",label:"Descripción",centered:""}},[t._v("\n                        "+t._s(e.row.description)+"\n                    ")]),a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:""}},[a("span",{staticClass:"tag is-dark"},[t._v("\n                            "+t._s(e.row.date.substring(0,10))+"\n                        ")])]),a("b-table-column",{attrs:{field:"hours_service",label:"Hrs/Serv",centered:""}},[t._v("\n                        "+t._s(e.row.hours_service)+"\n                    ")])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),a("p",[t._v("Nothing here.")])])])])],2),a("br"),a("br"),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("p",[a("strong",{staticClass:"title is-6"},[t._v("Cantidad de Horas Técnicas: "+t._s(t.hrs))])])]),a("div",{staticClass:"column is-6 end"},[a("p",[a("strong",{staticClass:"title is-6"},[t._v("Servicios Realizados: "+t._s(t.serv))])])])])],1)]),a("b-loading",{attrs:{"is-full-page":t.isFullPage,active:t.isLoadingPage,"can-cancel":!1},on:{"update:active":function(e){t.isLoadingPage=e}}})],1)},Le=[],Be=a("5RHE"),Te=a.n(Be),qe=a("URgk"),He={data:function(){return{data:[],isEmpty:!1,isBordered:!0,isStriped:!0,isNarrowed:!1,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,output:"",isLoadingPage:!0,hrs:"",serv:"",client:"",ready:!1}},props:["nro_support"],methods:{showPdf:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:Object(qe["setTimeout"])(Object(B["a"])(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$html2canvas(e.$refs.pdf,{type:"dataURL"});case 2:e.output=t.sent,a=new Te.a,a.addImage(e.output,"JPEG",25,15),a.save("reporte.pdf");case 6:case"end":return t.stop()}},t,this)})),3e3);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),loadData:function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(){var e,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.nro.split("|"),a=e[0],this.hrs=e[1],this.serv=e[2],t.next=6,v.get("/record/nro/".concat(a),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(t){t.data.res&&(s.data=t.data.record[0].activities)}).catch(function(t){alert(t),window.close()});case 6:return t.next=8,v.get("/support/nro/".concat(a),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.data.res){t.next=4;break}return a=e.data.support,t.next=4,v.get("/user/".concat(a),{headers:{Authorization:"bearer "+s.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.data.res){t.next=4;break}return a=e.data.user.id_infopersonal,t.next=4,v.get("/infopersonal/".concat(a),{headers:{Authorization:"bearer "+s.$cookie.get("token")}}).then(function(){var t=Object(B["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.data.res&&(s.client=e.data.infoPersonal);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t),window.close()});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t),window.close()});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){alert(t),window.close()});case 8:this.isLoadingPage=!1;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),date:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=String(t.getMonth()+1),a=String(t.getDate()),s=String(t.getFullYear());return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),"".concat(a,"/").concat(e,"/").concat(s)}},created:function(){this.loadData()},watch:{$route:"loadData"},mounted:function(){this.$nextTick(function(){this.showPdf(this)})}},Ye=He,Ve=(a("lhMi"),Object(l["a"])(Ye,Ie,Le,!1,null,"1b7faa82",null)),Ge=Ve.exports;b.a.configure({showSpinner:!1}),b.a.configure({minimum:.3}),s["default"].use(d["a"]);var Je=new d["a"]({routes:[{path:"/",name:"home",component:M,meta:{isAuth:!1}},{path:"/newroot",name:"newroot",component:lt,meta:{isAuth:!1}},{path:"/login",name:"login",component:U,meta:{isAuth:!0}},{path:"/reportemp/:nro",name:"reportemp",component:Ge,meta:{isAuth:!1,requiredRol:!1,requiredAuth:!1},props:!0},{path:"/dash",name:"dash",component:at,meta:{requiredAuth:!0},props:!0,children:[{path:"supporta",name:"supporta",component:Ut,meta:{requiredRol:!0,requiredAuth:!0}},{path:"supportc",name:"supportc",component:Wt,meta:{requiredRol:!0,requiredAuth:!0}},{path:"users",name:"users",component:_e,meta:{requiredRol:!0,requiredAuth:!0}},{path:"report",name:"report",component:le,meta:{requiredRol:!0,requiredAuth:!0}},{path:"calendar",name:"calendar",component:$e,meta:{requiredRol:!0,requiredAuth:!0}},{path:"billadmin",name:"billadmin",component:Me,meta:{requiredRol:!0,requiredAuth:!0}},{path:"billclient",name:"billclient",component:Ue,meta:{requiredRol:!0,requiredAuth:!0}}]}]});Je.beforeEach(function(t,e,a){t.meta.requiredAuth?$.user.authenticated?a():Je.push("/login"):a(),t.meta.isAuth&&$.user.authenticated?Je.push("/dash"):a()}),Je.beforeResolve(function(t,e,a){t.name&&b.a.start(),a()}),Je.afterEach(function(){b.a.done()});var Ke=Je,We=a("AOfK"),Qe=a.n(We),Ze=a("7pj7"),Xe=a.n(Ze),ta=a("hf9i"),ea=a.n(ta),aa=a("Q1/M"),sa=a.n(aa),ia=a("Y9a5"),na=a.n(ia),ra=(a("BfTr"),a("P6ep")),oa=a.n(ra);a("jgpq");s["default"].use(Qe.a),s["default"].use(Xe.a),s["default"].use(oa.a),s["default"].use(na.a),s["default"].use(sa.a,{locale:"en"});var la={isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!1,showMethodName:!1,separator:"|",showConsoleColors:!1};s["default"].use(ea.a,la),s["default"].config.productionTip=!1,$.checkAuthentication(),new s["default"]({router:Ke,render:function(t){return t(u)}}).$mount("#app")},XWrE:function(t,e,a){},Y46a:function(t,e,a){},YEzY:function(t,e,a){},bCAU:function(t,e,a){"use strict";var s=a("U9Me"),i=a.n(s);i.a},dksu:function(t,e,a){},ePQD:function(t,e,a){"use strict";var s=a("7Mk1"),i=a.n(s);i.a},g4vE:function(t,e,a){"use strict";var s=a("XWrE"),i=a.n(s);i.a},l4pm:function(t,e,a){"use strict";var s=a("Jd8s"),i=a.n(s);i.a},lhMi:function(t,e,a){"use strict";var s=a("IL5P"),i=a.n(s);i.a},nNx0:function(t,e,a){"use strict";var s=a("uWEC"),i=a.n(s);i.a},pbZV:function(t,e,a){},qStA:function(t,e,a){"use strict";var s=a("V40A"),i=a.n(s);i.a},rMJt:function(t,e,a){"use strict";var s=a("YEzY"),i=a.n(s);i.a},sdJp:function(t,e,a){},"tl+O":function(t,e,a){"use strict";var s=a("4YN5"),i=a.n(s);i.a},tlMx:function(t,e,a){"use strict";var s=a("dksu"),i=a.n(s);i.a},uBRj:function(t,e,a){},uWEC:function(t,e,a){},uYUK:function(t,e,a){"use strict";var s=a("3zVC"),i=a.n(s);i.a},xKzq:function(t,e,a){"use strict";var s=a("pbZV"),i=a.n(s);i.a},xki0:function(t,e,a){"use strict";var s=a("GZgS"),i=a.n(s);i.a}});
//# sourceMappingURL=app.21129386.js.map