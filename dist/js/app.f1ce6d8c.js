(function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)r=o[d],n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={1:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;i.push([20,0]),a()})({15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},20:function(e,t,a){e.exports=a("Vtdi")},"3LUJ":function(e,t,a){"use strict";var s=a("sdJp"),n=a.n(s);n.a},"4YN5":function(e,t,a){},"6Vmm":function(e,t,a){},"7Mk1":function(e,t,a){},ACyh:function(e,t,a){"use strict";var s=a("cG9W"),n=a.n(s);n.a},As3I:function(e,t,a){"use strict";var s=a("6Vmm"),n=a.n(s);n.a},Eiar:function(e,t,a){},GZgS:function(e,t,a){},JEwV:function(e,t,a){"use strict";var s=a("MDcI"),n=a.n(s);n.a},MDcI:function(e,t,a){},MZHw:function(e,t,a){"use strict";var s=a("Eiar"),n=a.n(s);n.a},O6kT:function(e,t,a){"use strict";var s=a("Tds5"),n=a.n(s);n.a},Tds5:function(e,t,a){},U9Me:function(e,t,a){},Vtdi:function(e,t,a){"use strict";a.r(t);a("VRzm");var s=a("Kw5r"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},i=[],r={},o=r,l=(a("nNx0"),a("KHd+")),c=Object(l["a"])(o,n,i,!1,null,null,null),u=c.exports,d=(a("f3/d"),a("jE9Z")),p=a("vDqi"),f=a.n(p),h=a("Mj6V"),m=a.n(h);m.a.configure({showSpinner:!1}),m.a.configure({minimum:.3});var g="https://server-andromeda.herokuapp.com",b=f.a.create({baseURL:g,timeout:3e4});b.interceptors.request.use(function(e){return m.a.start(),e}),b.interceptors.response.use(function(e){return m.a.done(),e});var v=b,C=(a("KKXr"),!0),_={text:{title:{login:"Iniciar Sesión",register:"Registro de Usuario",restoreKey:"Restaurar Clave",report:"Gestión de Reportes",support:"Gestión de Soportes",newsupport:"Nueva solicitud de soporte",images:"Imagenes",details:"Detalles",date:"Fecha",status:"Estado",users:"Gestión de Usuarios",newuser:"Nuevo Usuario",assignSupport:"Asignar Soporte"},button:{enter:"Entrar",restore:"Restaurar",save:"Guardar",new:"Nuevo",delete:"Eliminar",cancel:"Cancelar",close:"Cerrar",send:"Enviar",deselect:"Deseleccionar",deny:"Rechazar",approve:"Aprobar",lock:"Bloquear",unlock:"Desbloquear"},input:{username:"Usuario",password:"Contraseña",name:"Nombre",nit:"Numero de Identificación",email:"Correo Electronico",issue:"Asunto",message:"Mensaje",description:"Descripción",upload:"¡Suba sus imagenes aquí!",phone:"Telefono",toAssign:"Asignar a"}},success:{S001:"El Usuario ha sido creado con exito",S002:"Solicitud creada con exito",S003:"Datos guardados"},warn:{},error:{E001:"El Numero de Identificación que introdujo, ya está registrado",E002:"El Correo Electronico que introdujo, ya está registrado",E003:"El Usuario que introdujo, ya está registrado",E004:"El Usuario que introdujo no existe, verique por favor",E005:"¡Usuario bloqueado!",E006:"¡Contraseña incorrecta!",E007:"Por favor llene todos los campos",E008:"Error, intente de nuevo",E009:"Error al subir las imagenes, intente de nuevo"}},k={text:{title:{login:"Login",register:"User Register",restoreKey:"Restore Key"},button:{enter:"Enter",restore:"Restore",save:"Save"},input:{username:"Username",password:"Password",name:"Name",nit:"NIT",email:"Email"}}},w=C?_:k,y=function(e,t){var a=t.split("")[0],s="S"==a?{a:"is-success",b:"success"}:"W"==a?{a:"is-warning",b:"warn"}:"I"==a?{a:"is-info",b:"info"}:{a:"is-danger",b:"error"},n=w[s.b][t];e.$toast.open({duration:3e3,message:n,position:"is-top",type:s.a,queue:!1})},x=a("FLf1"),$=a.n(x),A={user:{authenticated:!1},authenticate:function(e,t,a){var s=this;v.post("/auth/login",t).then(function(t){if(t.data.res){var n=t.data.token;e.$cookie.set("token",n,{expires:3},"1D"),s.user.authenticated=!0;var i=$.a.verify(n,"blackencio",function(e,t){return t.user._id});e.$cookie.set("userId",i),a&&gt.push({name:a})}else y(e,t.data.err)}).catch(function(e){alert(e)})},checkAuthentication:function(){var e=document.cookie;this.user.authenticated=!!e},getAuthenticationHeader:function(e){return"Bearer ".concat(e.$cookie.get("token"))}},D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(t){e.go("login")}}},[e._v("Login")])]),a("router-view")],1)},S=[],P={methods:{go:function(e){this.$router.push({name:e})}}},E=P,R=Object(l["a"])(E,D,S,!1,null,null,null),M=R.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns"},[1==e.show?a("div",{staticClass:"column is-one-third master"},[a("section",{staticClass:"section"},[a("p",{staticClass:"title is-3 has-text-centered"},[e._v("¡Bienvenido!")]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",min:"5",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.loginUser()}},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.loginUser()}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(t){e.loginUser()}}},[e._v(e._s(e.global.title.login))])]),a("div",{staticClass:"has-text-centered"},[a("a",{on:{click:function(t){e.changeShow(2)}}},[e._v(e._s(e.global.title.register))])])],1)]):e._e(),2==e.show?a("div",{staticClass:"column is-one-third master"},[a("section",{staticClass:"section"},[a("p",{staticClass:"title is-3 has-text-centered"},[e._v("¡Únete!")]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newUser()}},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newUser()}},model:{value:e.register.nit,callback:function(t){e.$set(e.register,"nit",t)},expression:"register.nit"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newUser()}},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newUser()}},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newUser()}},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(t){e.newUser()}}},[e._v(e._s(e.global.button.save))])]),a("div",{staticClass:"has-text-centered"},[a("a",{on:{click:function(t){e.changeShow(1)}}},[e._v(e._s(e.global.title.login))])])],1)]):e._e(),e._m(0)])},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"interactive-bg column master submaster"},[a("img",{staticClass:"login-logo",attrs:{src:"img/logo.svg"}})])}],O={name:"login",data:function(){return{show:1,login:{username:"",password:""},register:{name:"",nit:"",email:"",username:"",password:""},global:w.text}},methods:{changeShow:function(e){this.show=e},newUser:function(){var e=this;this.validateInput(this.register)&&v.post("/others/newuser",this.register).then(function(t){e.$log.debug(t.data),t.data.res?(y(e,t.data.cod),e.show=1,e.clearRegister()):y(e,t.data.err)}).catch(function(e){alert(e)})},loginUser:function(){this.validateInput(this.login)&&A.authenticate(this,this.login,"dash")},clearRegister:function(){this.register.name="",this.register.email="",this.register.nit="",this.register.username="",this.register.password=""},go:function(e){this.$router.push({name:e})},validateInput:function(e){var t=!0;for(var a in e)if(""==e[a])return t=!1,y(this,"E007"),t;return t}}},L=O,z=(a("MZHw"),Object(l["a"])(L,U,j,!1,null,"33fa5722",null)),I=z.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dash"}},[a("nav",{staticClass:"navbar is-transparent"},[a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",on:{click:function(t){e.go("home")}}},[a("img",{attrs:{src:"img/logo.svg",alt:"Andromeda",width:"50",height:"28"}}),a("h1",{staticClass:"title is-5"},[e._v("Andromeda")])]),a("div",{staticClass:"navbar-burger burger",attrs:{"data-target":"moreNavbar"},on:{click:function(t){e.burger()}}},[a("span"),a("span"),a("span")])]),a("div",{staticClass:"navbar-menu",attrs:{id:"moreNavbar"}},[a("div",{staticClass:"navbar-end"},[a("div",{staticClass:"navbar-item"},[a("div",{staticClass:"field is-grouped"},[a("b-dropdown",{attrs:{hoverable:""}},[a("button",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",attrs:{slot:"trigger"},slot:"trigger"},[a("span",[e._v(e._s(e.userData.username))]),a("b-icon",{attrs:{pack:"fas",icon:"bars",size:"is-small"}})],1),a("b-dropdown-item",{on:{click:function(t){e.isComponentModalUserActive=!0}}},[e._v("Cuenta")]),a("b-dropdown-item",{on:{click:function(t){e.logout()}}},[e._v("Salir")])],1)],1)])])])]),a("div",{staticClass:"columns is-fullheight"},[a("div",{staticClass:"column is-2 is-sidebar-menu is-hidden-mobile"},[a("div",{staticClass:"container-photo"},[a("img",{staticClass:"photo",attrs:{src:""==e.userInfoData.photo?"img/profile_default.svg":e.api+"/uploads/profile/"+e.userInfoData.photo}}),a("p",{staticClass:"title is-5 fullname"},[e._v(e._s(e.userInfoData.name+" "+e.userInfoData.lastname))])]),a("hr"),a("aside",{staticClass:"menu"},[a("p",{staticClass:"menu-label title is-6"},[e._v("\n          Menu\n        ")]),a("ul",{staticClass:"menu-list"},e._l(e.items,function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.role,expression:"item.role"}],key:s,on:{click:function(a){e.go(t.url)}}},[a("a",[a("b-icon",{attrs:{pack:"fas",icon:t.icon,size:"is-small"}}),e._v("\n              "+e._s(t.title)+"\n            ")],1)])}))])]),a("div",{staticClass:"column is-main-content"},[a("b-modal",{attrs:{active:e.isComponentModalUserActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalUserActive=t}}},[a("modal-user-data",{attrs:{userData:e.userData,userInfoData:e.userInfoData}})],1),a("router-view")],1)]),e._m(0),a("b-loading",{attrs:{"is-full-page":e.isFullPage,active:e.isLoading,"can-cancel":!1},on:{"update:active":function(t){e.isLoading=t}}})],1)},q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"content has-text-centered"},[a("p",[e._v("\n        ©2018 — "),a("strong",[e._v("Andromeda")])])])])}],T=(a("rGqo"),a("ls82"),a("MECJ")),F=new s["default"],B=F,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v("NIT: "+e._s(e.infoPersonal.nit))])]),a("section",{staticClass:"modal-card-body"},[a("b-tabs",{staticClass:"block",attrs:{position:"is-centered"}},[a("b-tab-item",{attrs:{label:"Datos Personales"}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6"},[a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:e.infoPersonal.name,callback:function(t){e.$set(e.infoPersonal,"name",t)},expression:"infoPersonal.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Apellido",type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:e.infoPersonal.lastname,callback:function(t){e.$set(e.infoPersonal,"lastname",t)},expression:"infoPersonal.lastname"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.email,type:"text","icon-pack":"fas",icon:"at",maxlength:"20",rounded:""},model:{value:e.infoPersonal.email,callback:function(t){e.$set(e.infoPersonal,"email",t)},expression:"infoPersonal.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.phone,type:"text","icon-pack":"fas",icon:"phone",maxlength:"20",rounded:""},model:{value:e.infoPersonal.phone,callback:function(t){e.$set(e.infoPersonal,"phone",t)},expression:"infoPersonal.phone"}})],1)],1),a("div",{staticClass:"column is-6"},[e.isProfile?a("div",[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:e.api+"/uploads/profile/"+e.infoPersonal.photo}})])]):a("div",[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:"img/profile_default.svg"}})])]),a("br"),a("div",{staticClass:"file has-name is-small has-name is-boxed"},[a("label",{staticClass:"file-label"},[a("input",{ref:"profile",staticClass:"file-input",attrs:{type:"file",name:"profile",id:"profile"},on:{change:function(t){e.handleFileUpload()}}}),a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[e._v("\n                                    Choose a file…\n                                ")])]),a("span",{staticClass:"file-name"},[e._v("\n                                "+e._s(e.profile.name)+"\n                                ")])])])])])]),a("b-tab-item",{attrs:{label:"Dirección"}},[a("b-field",[a("b-input",{attrs:{placeholder:"País",type:"text","icon-pack":"fas",icon:"globe",maxlength:"20",rounded:""},model:{value:e.infoPersonal.address.country,callback:function(t){e.$set(e.infoPersonal.address,"country",t)},expression:"infoPersonal.address.country"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Estado",type:"text","icon-pack":"fas",icon:"location-arrow",maxlength:"20",rounded:""},model:{value:e.infoPersonal.address.state,callback:function(t){e.$set(e.infoPersonal.address,"state",t)},expression:"infoPersonal.address.state"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Localidad",type:"text","icon-pack":"fas",icon:"map-marker-alt",maxlength:"20",rounded:""},model:{value:e.infoPersonal.address.location,callback:function(t){e.$set(e.infoPersonal.address,"location",t)},expression:"infoPersonal.address.location"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Descripción",type:"text","icon-pack":"fas",icon:"compass",maxlength:"20",rounded:""},model:{value:e.infoPersonal.address.description,callback:function(t){e.$set(e.infoPersonal.address,"description",t)},expression:"infoPersonal.address.description"}})],1)],1),a("b-tab-item",{attrs:{label:"Autenticación"}},[a("b-field",[a("b-input",{attrs:{placeholder:"Username",type:"text","icon-pack":"fas",icon:"user-astronaut",maxlength:"20",rounded:""},model:{value:e.infoUser.username,callback:function(t){e.$set(e.infoUser,"username",t)},expression:"infoUser.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Referencia",type:"text","icon-pack":"fas",icon:"sync-alt",maxlength:"20",rounded:"",disabled:""},model:{value:e.infoUser.ref,callback:function(t){e.$set(e.infoUser,"ref",t)},expression:"infoUser.ref"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Role",type:"text","icon-pack":"fas",icon:"hand-paper",maxlength:"50",rounded:"",disabled:""},model:{value:e.infoUser.rol,callback:function(t){e.$set(e.infoUser,"rol",t)},expression:"infoUser.rol"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:"Contraseña",type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:"",disabled:""},model:{value:e.infoUser.password,callback:function(t){e.$set(e.infoUser,"password",t)},expression:"infoUser.password"}})],1)],1)],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v("Close")]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(t){e.saveData()}}},[e._v("Guardar")])])])},G=[],K=a("WjD0"),V=a.n(K),J={data:function(){return{infoPersonal:"",infoUser:"",global:w.text,isProfile:!1,profile:"",api:"https://server-andromeda.herokuapp.com"}},props:["userData","userInfoData"],methods:{loadData:function(){this.infoPersonal=this.userInfoData,this.infoUser=this.userData,""!=this.userInfoData.photo&&(this.isProfile=!0)},handleFileUpload:function(){this.profile=this.$refs.profile.files[0]},uploadProfile:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new V.a,t.append("profile",this.profile),a="",e.next=5,v.post("/upprofile",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){e.data.res&&(a=e.data.profile.filename)}).catch(function(e){y(s,"E009"),s.$log.debug(e)});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(""==this.profile){e.next=5;break}return e.next=3,this.uploadProfile();case 3:t=e.sent,this.infoPersonal.photo=t;case 5:return a=!1,e.next=8,v.put("/infopersonal/".concat(this.infoPersonal._id),this.infoPersonal,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){a=!!e.data.res}).catch(function(e){alert(e)});case 8:return e.next=10,v.put("/user/".concat(this.infoUser._id),this.infoUser,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res?a&&(y(s,"S003"),s.$parent.close(),location.reload()):y(s,"E008")}).catch(function(e){alert(e)});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){this.loadData()},watch:{$route:"loadData"}},W=J,Z=(a("xki0"),Object(l["a"])(W,H,G,!1,null,"385f66c1",null)),X=Z.exports,Q="";B.$on("getInfopersonal",function(e){return this.$log.debug(Q),e});var Y={data:function(){return{drawer:!0,preLoading:0,isLoading:!0,isFullPage:!0,isComponentModalUserActive:!1,userData:"",userInfoData:"",api:"https://server-andromeda.herokuapp.com",items:[{title:"Home",icon:"home",role:!0,type:"ALL",url:"home"},{title:"Usuarios",icon:"users",role:!1,type:"ALL",url:"users"},{title:"Soporte",icon:"wrench",role:!1,type:"A",url:"supporta"},{title:"Soporte",icon:"wrench",role:!1,type:"C",url:"supportc"},{title:"Reporte",icon:"clipboard",role:!1,type:"A",url:"report"},{title:"Calendar",icon:"calendar-alt",role:!1,type:"ALL",url:"calendar"}],right:null,menus:[{title:"Cerrar Sesión"}]}},methods:{logout:function(){var e=this;v.get("/logout").then(function(t){t.data.res&&(e.$cookie.delete("token"),e.$cookie.delete("userId"),e.$cookie.delete("ref"),e.$cookie.delete("type_user"),e.$cookie.delete("infopersonalId"),location.reload())}).catch(function(e){alert(e)})},go:function(e){this.$router.push({name:e})},loadDataUser:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/".concat(this.$cookie.get("userId")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){t.userData=e.data.user,t.preLoading=t.preLoading+1,t.$cookie.set("ref",t.userData.ref),t.$cookie.set("type_user",t.userData.type_user)}).catch(function(e){alert(e)});case 2:return e.next=4,v.get("/infopersonal/".concat(this.userData.id_infopersonal),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){t.userInfoData=e.data.infoPersonal,t.preLoading=t.preLoading+1,t.$cookie.set("infopersonalId",t.userInfoData._id)}).catch(function(e){alert(e)});case 4:return e.next=6,this.loadRoleUser();case 6:return e.next=8,this.isNotLoading();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loadRoleUser:function(){var e=this;if(2==this.preLoading){if(0==this.userData.type_user)if("ALL"==this.userData.rol)this.items.forEach(function(e){"ALL"==e.type||"A"==e.type?e.role=!0:e.role=!1});else{var t=this.userData.rol.split("|");t.forEach(function(t){e.items.forEach(function(e){"ALL"==t.type||"A"==t.type?t==e.title&&(e.role=!0):t.role=!1})})}if(1==this.userData.type_user)if("ALL"==this.userData.rol)this.items.forEach(function(e){"ALL"==e.type||"C"==e.type?e.role=!0:e.role=!1});else{var a=this.userData.rol.split("|");a.forEach(function(t){e.items.forEach(function(e){"ALL"==t.type||"C"==t.type?t==e.title&&(e.role=!0):t.role=!1})})}}},burger:function(){var e=document.querySelector(".burger"),t=document.querySelector("#"+e.dataset.target);e.classList.toggle("is-active"),t.classList.toggle("is-active")},isNotLoading:function(){2==this.preLoading&&(this.isLoading=!1)}},created:function(){this.loadDataUser()},watch:{$route:"loadDataUser"},components:{ModalUserData:X}},ee=Y,te=(a("O6kT"),Object(l["a"])(ee,N,q,!1,null,"f62b2d60",null)),ae=te.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("section",{staticClass:"hero is-primary is-fullheight"},[a("div",{staticClass:"hero-body"},[a("div",{staticClass:"container has-text-centered"},[a("div",{staticClass:"column is-4 is-offset-4"},[a("h3",{staticClass:"title is-2 has-text-white"},[e._v("Root")]),a("div",{staticClass:"box"},[a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newRoot()}},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newRoot()}},model:{value:e.register.nit,callback:function(t){e.$set(e.register,"nit",t)},expression:"register.nit"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newRoot()}},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newRoot()}},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.newRoot()}},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),a("div",{staticClass:"has-text-centered"},[a("a",{staticClass:"button is-vcentered is-primary is-outlined is-rounded",on:{click:function(t){e.newRoot()}}},[e._v(e._s(e.global.button.save))])])],1)])])])])])},ne=[],ie={data:function(){return{register:{name:"",nit:"",email:"",username:"",password:"",type_user:"0"},global:w.text}},methods:{newRoot:function(){var e=this;this.validateInput(this.register)&&v.post("/others/newroot",this.register).then(function(t){e.$log.debug(t.data),t.data.res?y(e,t.data.cod):y(e,t.data.err)}).catch(function(t){e.$log.debug("hola megan"),alert(t)})},validateInput:function(e){var t=!1;for(var a in e)t=""!=e[a];return t||y(this,"E007"),t}}},re=ie,oe=Object(l["a"])(re,se,ne,!1,null,null,null),le=oe.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[e._v("\n            "+e._s(0==e.showTypeTable?e.global.title.support+" | Todos":e.global.title.support+" | Para mí")+"   \n        ")]),a("b-radio-button",{attrs:{"native-value":"0",type:"is-info"},model:{value:e.showTypeTable,callback:function(t){e.showTypeTable=t},expression:"showTypeTable"}},[a("b-icon",{attrs:{pack:"fas",icon:"door-open",size:"is-small"}}),a("span",[e._v("Todos")])],1),a("b-radio-button",{attrs:{"native-value":"1",type:"is-success"},model:{value:e.showTypeTable,callback:function(t){e.showTypeTable=t},expression:"showTypeTable"}},[a("b-icon",{attrs:{pack:"fas",icon:"door-closed",size:"is-small"}}),a("span",[e._v("Para mí")])],1)],1),a("br"),"0"==e.showTypeTable?a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(t){e.approve()}}},[a("span",[e._v(e._s(e.global.button.approve))]),e._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(t){e.deny()}}},[a("span",[e._v(e._s(e.global.button.deny))]),e._m(1)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(t){e.deselect()}}},[a("span",[e._v(e._s(e.global.button.deselect))]),e._m(2)])]):e._e(),a("b-modal",{attrs:{active:e.isComponentModalDetailsSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalDetailsSupportActive=t}}},[a("modal-details-support",{attrs:{dataSupport:e.data,nroSupport:e.nroSupport}})],1),a("b-modal",{attrs:{active:e.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalDetailsClientActive=t}}},[a("modal-details-client",{attrs:{idClient:e.idClient}})],1),a("b-modal",{attrs:{active:e.isComponentModalAssignSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalAssignSupportActive=t}}},[a("modal-assign-support",{attrs:{support:e.selected},on:{"hijo:change":e.listenSon}})],1),"0"==e.showTypeTable?a("b-table",{attrs:{data:e.isEmpty?[]:e.data,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,"mobile-cards":e.hasMobileCards,selected:e.selected,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection},on:{"update:selected":function(t){e.selected=t},"update:currentPage":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"client",label:"Cliente",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsClient(t.row.id_client)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[e._v("\n                    "+e._s(t.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.issue)+"\n            ")]),a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[""!=t.row.assigned?a("a",{staticClass:"button is-success is-small",on:{click:function(a){e.loadDetailsClient(t.row.assigned)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])]):a("div",[e._v("\n                    n/a\n                ")])]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==t.row.status?"is-warning":"A"==t.row.status?"is-success":"R"==t.row.status?"is-danger":"is-dark"}},[e._v("\n\n                    "+e._s("P"==t.row.status?"Pendiente":"A"==t.row.status?"Aprobado":"R"==t.row.status?"Rechazado":"Cancelado")+"\n                    \n                    ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsSupport(t.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2):a("b-table",{attrs:{data:e.isEmpty?[]:e.dataForMe,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,"mobile-cards":e.hasMobileCards,selected:e.selectedForMe,paginated:e.isPaginated,"per-page":e.perPageForMe,"current-page":e.currentPageForMe,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection},on:{"update:selected":function(t){e.selectedForMe=t},"update:currentPage":function(t){e.currentPageForMe=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"client",label:"Cliente",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsClient(t.row.id_client)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[e._v("\n                    "+e._s(t.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.issue)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==t.row.status?"is-warning":"A"==t.row.status?"is-success":"R"==t.row.status?"is-danger":"is-dark"}},[e._v("\n\n                    "+e._s("P"==t.row.status?"Pendiente":"A"==t.row.status?"Aprobado":"R"==t.row.status?"Rechazado":"Cancelado")+"\n                    \n                    ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsSupport(t.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])]),a("b-table-column",{attrs:{field:"record",label:"Historial",centered:"",sortable:""}})]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)},ue=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-thumbs-up"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],de=(a("yt8O"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.global.title.details))])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v("Nro.")]),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[e._v(e._s(e.data.nro))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v(e._s(e.global.title.date))]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[e._v(e._s(e.data.createdAt.substring(0,10)))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v(e._s(e.global.title.status))]),a("b-tag",{attrs:{type:"P"==e.data.status?"is-warning":"A"==e.data.status?"is-success":"R"==e.data.status?"is-danger":"is-dark",size:"is-medium"}},[e._v("\n                        "+e._s("P"==e.data.status?"Pendiente":"A"==e.data.status?"Aprobado":"R"==e.data.status?"Rechazado":"Cancelado")+"\n                    ")])],1)],1)]),a("br"),a("div",{staticClass:"content"},[a("h3",[e._v(e._s(e.data.issue))]),a("hr"),a("p",[e._v(e._s(e.data.description))]),a("hr"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isImg,expression:"isImg"}]},e._l(e.images,function(t,s){return a("figure",{key:s,staticClass:"image is-4by3"},[a("img",{attrs:{src:e.api+"/uploads/support/"+t}})])}))])],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.global.button.close))])])])}),pe=[],fe={data:function(){return{global:w.text,images_support:[],data:"",images:[],isImg:!1,api:"https://server-andromeda.herokuapp.com"}},props:["dataSupport","nroSupport"],methods:{loadDataSupport:function(){for(var e in this.dataSupport)this.dataSupport[e].nro==this.nroSupport&&(this.data=this.dataSupport[e]);if(""!=this.data.images){var t=this.data.images.split(""),a=!1;for(var s in t)"|"==t[s]&&(a=!0);0==a?this.images.push(this.data.images):this.images=this.data.images.split("|"),this.isImg=!0}}},created:function(){this.loadDataSupport()},watch:{$route:"loadDataSupport"}},he=fe,me=(a("tl+O"),Object(l["a"])(he,de,pe,!1,null,"13385791",null)),ge=me.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.global.title.details)+" del Cliente")])]),a("section",{staticClass:"modal-card-body"},[a("figure",{staticClass:"image is-96x96"},[a("img",{attrs:{src:""==e.data.photo?"img/profile_default.svg":e.api+"/uploads/profile/"+e.data.photo}})]),a("br"),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v("Nit")]),a("b-tag",{attrs:{type:"is-info",size:"is-medium"}},[e._v(e._s(e.data.nit))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v("Nombre")]),a("b-tag",{attrs:{type:"is-primary",size:"is-medium"}},[e._v(e._s(e.data.name)+" "+e._s(e.data.lastname))])],1)],1)]),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v("Email")]),a("b-tag",{attrs:{type:"is-success",size:"is-medium"}},[e._v(e._s(e.data.email))])],1)],1),a("div",{staticClass:"control"},[a("b-taglist",{attrs:{attached:""}},[a("b-tag",{attrs:{type:"is-dark",size:"is-medium"}},[e._v("Telf.")]),a("b-tag",{attrs:{type:"is-warning",size:"is-medium"}},[e._v(e._s(e.data.phone))])],1)],1)]),a("br"),a("div",{staticClass:"content"},[a("h3",[e._v("Dirección")]),a("p",[a("strong",[e._v("País: ")]),e._v(e._s(e.data.address.country))]),a("p",[a("strong",[e._v("Estado: ")]),e._v(e._s(e.data.address.state))]),a("p",[a("strong",[e._v("Localidad: ")]),e._v(e._s(e.data.address.location))]),a("p",[a("strong",[e._v("Descripción: ")]),e._v(e._s(e.data.address.description))])])],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.global.button.close))])])])},ve=[],Ce={data:function(){return{global:w.text,images_support:[],data:"",images:[],isImg:!1,api:"https://server-andromeda.herokuapp.com"}},props:["idClient"],methods:{loadDataClient:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/".concat(this.idClient),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(a){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.data.res){e.next=4;break}return s=a.data.user.id_infopersonal,e.next=4,v.get("/infopersonal/".concat(s),{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){t.data=e.data.infoPersonal}).catch(function(e){alert(e)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){this.loadDataClient()},watch:{$route:"loadDataClient"}},_e=Ce,ke=(a("bCAU"),Object(l["a"])(_e,be,ve,!1,null,"3ad8f3de",null)),we=ke.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.global.title.assignSupport))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.toAssign+": "))]),a("b-field",[a("b-select",{attrs:{icon:"users","icon-pack":"fas",placeholder:"Nombre"},model:{value:e.isAssignSelect,callback:function(t){e.isAssignSelect=t},expression:"isAssignSelect"}},e._l(e.nameAdmin,function(t,s){return a("option",{key:s,domProps:{value:t.id}},[e._v("\n                    "+e._s(t.name+" "+t.lastname)+"\n                ")])}))],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(t){t.preventDefault(),e.saveAssignSupport()}}},[e._v(e._s(e.global.button.save))])])])},xe=[],$e={data:function(){return{global:w.text,nameAdmin:[],isAssignSelect:"",supportSelect:""}},props:["support"],methods:{refreshData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.supportSelect=this.support,e.next=3,v.get("/user/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(a){var s,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.data.res){e.next=8;break}s=regeneratorRuntime.mark(function e(s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/infopersonal/".concat(a.data.user[s].id_infopersonal),{headers:{Authorization:"bearer "+t.$cookie.get("token")}}).then(function(e){e.data.res&&t.nameAdmin.push({id:a.data.user[s]._id,name:e.data.infoPersonal.name,lastname:e.data.infoPersonal.lastname})}).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}),e.t0=regeneratorRuntime.keys(a.data.user);case 3:if((e.t1=e.t0()).done){e.next=8;break}return n=e.t1.value,e.delegateYield(s(n),"t2",6);case 6:e.next=3;break;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert(e)});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveAssignSupport:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.supportSelect.status="A",this.supportSelect.assigned=this.isAssignSelect,e.next=4,v.put("/support/changestatus/".concat(this.supportSelect._id),this.supportSelect,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res&&(t.$toast.open({message:"Solicitud Aprobada",type:"is-success"}),t.$emit("hijo:change"),t.$parent.close())}).catch(function(e){alert(e)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),validateInput:function(e){var t=!0;for(var a in e)if(""==e[a])return t=!1,y(this,"E007"),t;return t}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Ae=$e,De=(a("JEwV"),Object(l["a"])(Ae,ye,xe,!1,null,"1cf35fd1",null)),Se=De.exports,Pe={data:function(){return{isComponentModalDetailsSupportActive:!1,isComponentModalDetailsClientActive:!1,isComponentModalAssignSupportActive:!1,idClient:"",nroSupport:"",clients:[],global:w.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7,showTypeTable:"0",dataForMe:[],selectedForMe:"",perPageForMe:4,currentPageForMe:1}},components:{ModalDetailsSupport:ge,ModalDetailsClient:we,ModalAssignSupport:Se},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/support/all",{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){if(e.data.res)for(var a in t.data=e.data.support,t.data)t.data[a].assigned==t.$cookie.get("userId")&&t.dataForMe.push(t.data[a])}).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),convertStatus:function(e){var t="";return"P"==e&&(t={name:"Pendiente",tag:"is-warning"}),"A"==e&&(t={name:"Aprobado",tag:"is-success"}),"R"==e&&(t={name:"Rechazado",tag:"is-danger"}),"C"==e&&(t={name:"Cancelado",tag:"is-dark"}),t},loadDetailsSupport:function(e){this.nroSupport=e,this.isComponentModalDetailsSupportActive=!0},showAssignSupport:function(){this.isComponentModalAssignSupportActive=!0},loadClients:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(this.data);case 1:if((e.t1=e.t0()).done){e.next=7;break}return t=e.t1.value,e.next=5,v.get("/infopersonal/".concat(this.data[t].id_client),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res&&a.clients.push(e.data.infoPersonal)}).catch(function(e){alert(e)});case 5:e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loadDetailsClient:function(e){this.idClient=e,this.isComponentModalDetailsClientActive=!0},deny:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"C"==this.selected.status?this.$toast.open({message:"La solicitud fue cancelada por el cliente",type:"is-warning"}):"R"==this.selected.status?this.$toast.open({message:"La solicitud ya fue rechazada",type:"is-warning"}):this.$dialog.confirm({title:"Rechazar Solicitud",message:"¿Estás seguro de rechazar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Rechazar",type:"is-danger",hasIcon:!0,icon:"times",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status="R",t.next=3,v.put("/support/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Solicitud Rechazada",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},approve:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):"C"==this.selected.status?this.$toast.open({message:"La solicitud fue cancelada por el cliente",type:"is-warning"}):"A"==this.selected.status?this.$toast.open({message:"La solicitud ya fue aprobada",type:"is-warning"}):this.$dialog.confirm({title:"Aprobar Solicitud",message:"¿Estás seguro de aprobar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Aprobar",type:"is-success",hasIcon:!0,icon:"thumbs-up",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.showAssignSupport();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Ee=Pe,Re=(a("ACyh"),Object(l["a"])(Ee,ce,ue,!1,null,"16fdd48e",null)),Me=Re.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[e._v(e._s(e.global.title.support))])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(t){e.isComponentModalCreateSupportActive=!0}}},[a("span",[e._v(e._s(e.global.button.new))]),e._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(t){e.cancel()}}},[a("span",[e._v(e._s(e.global.button.cancel))]),e._m(1)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(t){e.deselect()}}},[a("span",[e._v(e._s(e.global.button.deselect))]),e._m(2)])]),a("b-modal",{attrs:{active:e.isComponentModalCreateSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalCreateSupportActive=t}}},[a("modal-create-support",{on:{"hijo:change":e.listenSon}})],1),a("b-modal",{attrs:{active:e.isComponentModalDetailsSupportActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalDetailsSupportActive=t}}},[a("modal-details-support",{attrs:{dataSupport:e.data,nroSupport:e.nroSupport}})],1),a("b-table",{attrs:{data:e.isEmpty?[]:e.data,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,"mobile-cards":e.hasMobileCards,selected:e.selected,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection},on:{"update:selected":function(t){e.selected=t},"update:currentPage":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"date",label:"Fecha",centered:"",sortable:""}},[a("span",{staticClass:"tag is-primary"},[e._v("\n                    "+e._s(t.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"issue",label:"Asunto",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.issue)+"\n            ")]),a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[""!=t.row.assigned?a("a",{staticClass:"button is-success is-small",on:{click:function(a){e.loadDetailsClient(t.row.assigned)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])]):a("div",[e._v("\n                    n/a\n                ")])]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:"P"==t.row.status?"is-warning":"A"==t.row.status?"is-success":"R"==t.row.status?"is-danger":"is-dark"}},[e._v("\n\n                    "+e._s("P"==t.row.status?"Pendiente":"A"==t.row.status?"Aprobado":"R"==t.row.status?"Rechazado":"Cancelado")+"\n                    \n                    ")])],1),a("b-table-column",{attrs:{field:"more",label:"Detalles",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsSupport(t.row.nro)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-info"})])])])]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)},je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.global.title.newsupport))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.issue+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.issue,type:"text","icon-pack":"fas",icon:"user-astronaut",maxlength:"50",rounded:""},model:{value:e.support.issue,callback:function(t){e.$set(e.support,"issue",t)},expression:"support.issue"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.description+": "))]),a("b-field",[a("b-input",{attrs:{type:"textarea",maxlength:"300",rounded:""},model:{value:e.support.description,callback:function(t){e.$set(e.support,"description",t)},expression:"support.description"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.title.images+": "))]),a("div",{staticClass:"file has-name is-boxed"},[a("label",{staticClass:"file-label"},[a("input",{ref:"images",staticClass:"file-input",attrs:{type:"file",multiple:"",name:"images",id:"images"},on:{change:function(t){e.handleFileUpload()}}}),e._m(0)])]),a("div",{staticClass:"tags"},e._l(e.images,function(t,s){return a("span",{key:s,staticClass:"tag is-primary"},[e._v("\n                "+e._s(t.name)+"\n                "),a("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(t){e.deleteDropFile(s)}}})])}))],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(t){t.preventDefault(),e.newSupport()}}},[e._v(e._s(e.global.button.send))])])])},Le=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[e._v("\n                    Choose a file…\n                ")])])}],ze=(a("hhXQ"),{data:function(){return{global:w.text,support:{id_client:this.$cookie.get("userId"),nro:"",issue:"",description:"",images:"",ref:this.$cookie.get("ref")},images:""}},props:["userData","userInfoData"],methods:{deleteDropFile:function(e){this.images.splice(e,1)},newSupport:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.support.nro=this.generateNro(),e.next=3,this.uploadImages();case 3:return this.support.images=e.sent,e.next=6,v.post("/support",this.support,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){t.$log.debug(e.data),e.data.res?(y(t,"S002"),t.$emit("hijo:change"),t.$parent.close()):y(t,"E008")}).catch(function(e){alert(e)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),generateNro:function(){var e=new Date;return e.getTime()},uploadImages:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t,a,s,n,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(t=new V.a,a=0;a<this.images.length;a++)s=this.images[a],t.append("images",s);return n="",e.next=5,v.post("/upsupport",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){if(e.data.res)for(var t in e.data.images)n=0==t?e.data.images[t].filename:n+"|"+e.data.images[t].filename}).catch(function(e){y(i,"E009"),i.$log.debug(e)});case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleFileUpload:function(){this.images=this.$refs.images.files,this.images=Object.values(this.images)}}}),Ie=ze,Ne=(a("As3I"),Object(l["a"])(Ie,Oe,Le,!1,null,"c199e3e4",null)),qe=Ne.exports,Te={data:function(){return{isComponentModalCreateSupportActive:!1,isComponentModalDetailsSupportActive:!1,nroSupport:"",global:w.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7}},components:{ModalCreateSupport:qe,ModalDetailsSupport:ge,ModalDetailsClient:we},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/support/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res&&(t.data=e.data.support)}).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),convertStatus:function(e){var t="";return"P"==e&&(t={name:"Pendiente",tag:"is-warning"}),"A"==e&&(t={name:"Aprobado",tag:"is-success"}),"R"==e&&(t={name:"Rechazado",tag:"is-danger"}),"C"==e&&(t={name:"Cancelado",tag:"is-dark"}),t},loadDetailsSupport:function(e){this.nroSupport=e,this.isComponentModalDetailsSupportActive=!0},cancel:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Cancelar solicitud",message:"¿Estás seguro de cancelar la solicitud de soporte nro. #".concat(this.selected.nro,"?"),confirmText:"Cancelar",type:"is-danger",hasIcon:!0,icon:"times",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status="C",t.next=3,v.put("/support/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Solicitud Cancelada",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},Fe=Te,Be=(a("xKzq"),Object(l["a"])(Fe,Ue,je,!1,null,"8d1d7b42",null)),He=Be.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[e._v(e._s(e.global.title.users))])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(t){e.loadCreateNewUser()}}},[a("span",[e._v(e._s(e.global.button.new))]),e._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(t){e.lock()}}},[a("span",[e._v(e._s(e.global.button.lock))]),e._m(1)]),a("a",{staticClass:"button is-warning is-small is-rounded",on:{click:function(t){e.unLock()}}},[a("span",[e._v(e._s(e.global.button.unlock))]),e._m(2)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(t){e.deselect()}}},[a("span",[e._v(e._s(e.global.button.deselect))]),e._m(3)])]),a("b-modal",{attrs:{active:e.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalDetailsClientActive=t}}},[a("modal-details-client",{attrs:{idClient:e.idClient}})],1),a("b-modal",{attrs:{active:e.isComponentModalCreateNewUserActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalCreateNewUserActive=t}}},[a("modal-create-new-user",{on:{"hijo:change":e.listenSon}})],1),a("b-table",{attrs:{data:e.isEmpty?[]:e.data,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,"mobile-cards":e.hasMobileCards,selected:e.selected,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection},on:{"update:selected":function(t){e.selected=t},"update:currentPage":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsClient(t.row._id)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Creado",centered:"",sortable:""}},[a("span",{staticClass:"tag is-info"},[e._v("\n                    "+e._s(t.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"username",label:"Usuario",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.username)+"\n            ")]),a("b-table-column",{attrs:{field:"rol",label:"Rol",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.rol)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:1==t.row.status?"is-success":"is-danger"}},[e._v("\n                "+e._s(1==t.row.status?"Activo":"Bloqueado")+"\n                ")])],1)]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)},Ke=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head has-text-centered"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.global.title.newuser))])]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.name+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.name,type:"text","icon-pack":"fas",icon:"user-circle",maxlength:"20",rounded:""},model:{value:e.register.name,callback:function(t){e.$set(e.register,"name",t)},expression:"register.name"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.nit+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.nit,type:"text","icon-pack":"fas",icon:"address-card",maxlength:"20",rounded:""},model:{value:e.register.nit,callback:function(t){e.$set(e.register,"nit",t)},expression:"register.nit"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.email+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.email,type:"email","icon-pack":"fas",icon:"at",maxlength:"50",rounded:""},model:{value:e.register.email,callback:function(t){e.$set(e.register,"email",t)},expression:"register.email"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.username+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.username,type:"text","icon-pack":"fas",icon:"user",maxlength:"12",rounded:""},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),a("p",{staticClass:"title is-6"},[e._v(e._s(e.global.input.password+": "))]),a("b-field",[a("b-input",{attrs:{placeholder:e.global.input.password,type:"password","icon-pack":"fas",icon:"key","password-reveal":"",rounded:""},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1)],1),a("footer",{staticClass:"modal-card-foot foot"},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.global.button.close))]),a("button",{staticClass:"button is-primary is-rounded",on:{click:function(t){t.preventDefault(),e.newUser()}}},[e._v(e._s(e.global.button.save))])])])},Je=[],We={data:function(){return{global:w.text,register:{name:"",nit:"",email:"",username:"",password:"",type_user:this.$cookie.get("type_user"),ref:this.$cookie.get("ref")}}},methods:{newUser:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.$log.debug(this.validateInput(this.register)),!this.validateInput(this.register)){e.next=4;break}return e.next=4,v.post("/others/newuserforauth",this.register,{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){t.$log.debug(e.data),e.data.res?(y(t,"S001"),t.$emit("hijo:change"),t.$parent.close()):y(t,e.data.err)}).catch(function(e){alert(e)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),validateInput:function(e){var t=!0;for(var a in e)if(""==e[a])return t=!1,y(this,"E007"),t;return t}}},Ze=We,Xe=(a("g4vE"),Object(l["a"])(Ze,Ve,Je,!1,null,"12b3bf92",null)),Qe=Xe.exports,Ye={data:function(){return{isComponentModalDetailsClientActive:!1,isComponentModalCreateNewUserActive:!1,global:w.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7}},components:{ModalDetailsClient:we,ModalCreateNewUser:Qe},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res&&(t.data=e.data.user)}).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loadDetailsClient:function(e){this.idClient=e,this.isComponentModalDetailsClientActive=!0},loadCreateNewUser:function(){this.isComponentModalCreateNewUserActive=!0},lock:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Bloquear Usuario",message:"¿Estás seguro de bloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Bloquear",type:"is-danger",hasIcon:!0,icon:"lock",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status=!1,t.next=3,v.put("/user/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Usuario Bloqueado",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},unLock:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Desbloquear Usuario",message:"¿Estás seguro de desbloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Desbloquear",type:"is-warning",hasIcon:!0,icon:"unlock",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status=!0,t.next=3,v.put("/user/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Usuario Desbloqueado",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},et=Ye,tt=(a("XKqe"),Object(l["a"])(et,Ge,Ke,!1,null,"7ce32c7e",null)),at=tt.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("h2",{staticClass:"title is-3"},[e._v(e._s(e.global.title.users))])]),a("br"),a("p",{staticClass:"buttons"},[a("a",{staticClass:"button is-success is-small is-rounded",on:{click:function(t){e.loadCreateNewUser()}}},[a("span",[e._v(e._s(e.global.button.new))]),e._m(0)]),a("a",{staticClass:"button is-danger is-small is-rounded",on:{click:function(t){e.lock()}}},[a("span",[e._v(e._s(e.global.button.lock))]),e._m(1)]),a("a",{staticClass:"button is-warning is-small is-rounded",on:{click:function(t){e.unLock()}}},[a("span",[e._v(e._s(e.global.button.unlock))]),e._m(2)]),a("a",{staticClass:"button is-info is-small is-rounded",on:{click:function(t){e.deselect()}}},[a("span",[e._v(e._s(e.global.button.deselect))]),e._m(3)])]),a("b-modal",{attrs:{active:e.isComponentModalDetailsClientActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalDetailsClientActive=t}}},[a("modal-details-client",{attrs:{idClient:e.idClient}})],1),a("b-modal",{attrs:{active:e.isComponentModalCreateNewUserActive,"has-modal-card":"",width:960},on:{"update:active":function(t){e.isComponentModalCreateNewUserActive=t}}},[a("modal-create-new-user",{on:{"hijo:change":e.listenSon}})],1),a("b-table",{attrs:{data:e.isEmpty?[]:e.data,bordered:e.isBordered,striped:e.isStriped,narrowed:e.isNarrowed,hoverable:e.isHoverable,loading:e.isLoading,focusable:e.isFocusable,"mobile-cards":e.hasMobileCards,selected:e.selected,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"default-sort-direction":e.defaultSortDirection},on:{"update:selected":function(t){e.selected=t},"update:currentPage":function(t){e.currentPage=t}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{field:"assigned",label:"Asignado",centered:"",sortable:""}},[a("a",{staticClass:"button is-info is-small",on:{click:function(a){e.loadDetailsClient(t.row._id)}}},[a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-user-astronaut"})])])]),a("b-table-column",{attrs:{field:"date",label:"Creado",centered:"",sortable:""}},[a("span",{staticClass:"tag is-info"},[e._v("\n                    "+e._s(t.row.createdAt.substring(0,10))+"\n                ")])]),a("b-table-column",{attrs:{field:"username",label:"Usuario",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.username)+"\n            ")]),a("b-table-column",{attrs:{field:"rol",label:"Rol",centered:"",sortable:""}},[e._v("\n                "+e._s(t.row.rol)+"\n            ")]),a("b-table-column",{attrs:{field:"status",label:"Estado",centered:"",sortable:""}},[a("b-tag",{attrs:{type:1==t.row.status?"is-success":"is-danger"}},[e._v("\n                "+e._s(1==t.row.status?"Activo":"Bloqueado")+"\n                ")])],1)]}}])},[a("template",{slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[a("b-icon",{attrs:{pack:"fas",icon:"frown-open",size:"is-large"}})],1),a("p",[e._v("Nothing here.")])])])])],2)],1)},nt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-plus"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-times"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-bolt"})])}],it={data:function(){return{isComponentModalDetailsClientActive:!1,isComponentModalCreateNewUserActive:!1,global:w.text,data:[],isEmpty:!1,isBordered:!1,isStriped:!0,isNarrowed:!0,isHoverable:!0,isFocusable:!1,isLoading:!1,hasMobileCards:!0,selected:"",isPaginated:!0,isPaginationSimple:!1,defaultSortDirection:"asc",currentPage:1,perPage:7}},components:{ModalDetailsClient:we,ModalCreateNewUser:Qe},methods:{listenSon:function(){this.refreshData()},deselect:function(){this.selected=""},refreshData:function(){var e=Object(T["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.get("/user/ref/".concat(this.$cookie.get("ref")),{headers:{Authorization:"bearer "+this.$cookie.get("token")}}).then(function(e){e.data.res&&(t.data=e.data.user)}).catch(function(e){alert(e)});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),loadDetailsClient:function(e){this.idClient=e,this.isComponentModalDetailsClientActive=!0},loadCreateNewUser:function(){this.isComponentModalCreateNewUserActive=!0},lock:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Bloquear Usuario",message:"¿Estás seguro de bloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Bloquear",type:"is-danger",hasIcon:!0,icon:"lock",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status=!1,t.next=3,v.put("/user/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Usuario Bloqueado",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},unLock:function(){var e=this;""==this.selected?this.$toast.open({message:"Seleccione una fila",type:"is-warning"}):this.$dialog.confirm({title:"Desbloquear Usuario",message:"¿Estás seguro de desbloquear el usuario: ".concat(this.selected.username,"?"),confirmText:"Desbloquear",type:"is-warning",hasIcon:!0,icon:"unlock",iconPack:"fas",onConfirm:function(){var t=Object(T["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.selected.status=!0,t.next=3,v.put("/user/changestatus/".concat(e.selected._id),e.selected,{headers:{Authorization:"bearer "+e.$cookie.get("token")}}).then(function(t){t.data.res&&e.$toast.open({message:"Usuario Desbloqueado",type:"is-success"})}).catch(function(e){alert(e)});case 3:return t.next=5,e.refreshData();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})}},created:function(){this.refreshData()},watch:{$route:"refreshData"}},rt=it,ot=(a("ePQD"),Object(l["a"])(rt,st,nt,!1,null,"ad7b7dbc",null)),lt=ot.exports,ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vue-event-calendar",{attrs:{events:e.demoEvents}})},ut=[],dt={data:function(){return{demoEvents:[{date:"2018/08/12",title:"Foo"},{date:"2016/12/15",title:"Bar",desc:"description",customClass:"disabled highlight"}]}}},pt=dt,ft=(a("3LUJ"),Object(l["a"])(pt,ct,ut,!1,null,"04bba4ce",null)),ht=ft.exports;m.a.configure({showSpinner:!1}),m.a.configure({minimum:.3}),s["default"].use(d["a"]);var mt=new d["a"]({routes:[{path:"/",name:"home",component:M,meta:{isAuth:!1}},{path:"/newroot",name:"newroot",component:le,meta:{isAuth:!1}},{path:"/login",name:"login",component:I,meta:{isAuth:!0}},{path:"/dash",name:"dash",component:ae,meta:{requiredAuth:!0},props:!0,children:[{path:"supporta",name:"supporta",component:Me,meta:{requiredRol:!0,requiredAuth:!0}},{path:"supportc",name:"supportc",component:He,meta:{requiredRol:!0,requiredAuth:!0}},{path:"users",name:"users",component:lt,meta:{requiredRol:!0,requiredAuth:!0}},{path:"report",name:"report",component:at,meta:{requiredRol:!0,requiredAuth:!0}},{path:"calendar",name:"calendar",component:ht,meta:{requiredRol:!0,requiredAuth:!0}}]}]});mt.beforeEach(function(e,t,a){e.meta.requiredAuth?A.user.authenticated?a():mt.push("/login"):a(),e.meta.isAuth&&A.user.authenticated?mt.push("/dash"):a()}),mt.beforeResolve(function(e,t,a){e.name&&m.a.start(),a()}),mt.afterEach(function(){m.a.done()});var gt=mt,bt=a("AOfK"),vt=a.n(bt),Ct=a("7pj7"),_t=a.n(Ct),kt=a("hf9i"),wt=a.n(kt),yt=a("Q1/M"),xt=a.n(yt),$t=(a("BfTr"),a("P6ep")),At=a.n($t);a("jgpq");s["default"].use(vt.a),s["default"].use(_t.a),s["default"].use(At.a),s["default"].use(xt.a,{locale:"en"});var Dt={isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!1,showMethodName:!1,separator:"|",showConsoleColors:!1};s["default"].use(wt.a,Dt),s["default"].config.productionTip=!1,A.checkAuthentication(),new s["default"]({router:gt,render:function(e){return e(u)}}).$mount("#app")},XKqe:function(e,t,a){"use strict";var s=a("jGVd"),n=a.n(s);n.a},XWrE:function(e,t,a){},bCAU:function(e,t,a){"use strict";var s=a("U9Me"),n=a.n(s);n.a},cG9W:function(e,t,a){},ePQD:function(e,t,a){"use strict";var s=a("7Mk1"),n=a.n(s);n.a},g4vE:function(e,t,a){"use strict";var s=a("XWrE"),n=a.n(s);n.a},jGVd:function(e,t,a){},nNx0:function(e,t,a){"use strict";var s=a("uWEC"),n=a.n(s);n.a},pbZV:function(e,t,a){},sdJp:function(e,t,a){},"tl+O":function(e,t,a){"use strict";var s=a("4YN5"),n=a.n(s);n.a},uWEC:function(e,t,a){},xKzq:function(e,t,a){"use strict";var s=a("pbZV"),n=a.n(s);n.a},xki0:function(e,t,a){"use strict";var s=a("GZgS"),n=a.n(s);n.a}});
//# sourceMappingURL=app.f1ce6d8c.js.map